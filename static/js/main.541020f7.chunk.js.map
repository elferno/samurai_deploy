{"version":3,"sources":["redux/profile-reducer.js","redux/dialogs-reducer.js","api/api.js","components/Common/Loading/Loading.module.css","assets/images/no_avatar.png","components/Header/UserMenu/UserMenu.module.css","components/Header/Header.module.css","components/Common/LoginBlock/Login.module.css","components/NavBar/NavBar.module.css","components/UsersSearch/UsersSearch.module.css","components/FriendsBar/Friend/Friend.module.css","assets/images/advBanner_0.png","assets/images/advBanner_1.png","components/Hello/Hello.module.css","components/Users/User/User.module.css","components/Users/Users.module.css","components/Common/GlobalLoading/GlobalLoading.module.css","selectors/auth-selectors.js","Context/AuthContext.jsx","redux/friends-reducer.js","redux/follow-reducer.js","redux/users-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Header/UserMenu/UserMenu.jsx","components/Header/Header.jsx","components/Common/LoginBlock/Login.jsx","components/NavBar/NavBar.jsx","components/UsersSearch/UsersSearch.jsx","components/FriendsBar/Friend/Friend.jsx","components/Common/AdvBar/AdvBar.jsx","components/FriendsBar/FriendsBar.jsx","components/FriendsBar/FriendsBarContainer.jsx","components/Hello/Hello.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","selectors/users-selectors.js","selectors/friends-selector.js","selectors/follow-selector.js","components/Users/UsersContainer.jsx","components/Common/GlobalLoading/GlobalLoading.jsx","App.js","serviceWorker.js","index.js","App.module.css","redux/auth-reducer.js","components/Common/Loading/Loading.jsx","components/Common/Avatar/Avatar.jsx","components/Common/FormFields/index.jsx","components/Common/NoContent/NoContent.jsx","components/Common/PreloadContent/PreloadContent.jsx","utils/validators.js","HOC/withSuspense.jsx"],"names":["ADD_POST","initialState","posts","id","likes","message","info","currentID","saving","resetPage","type","setProfile","setSavingProfile","addPost","formData","formName","dispatch","text","reset","setProfileAPI","setCurrentId","API_profile","then","data","saveProfileAPI","callback","saveProfile","userInfo","setTimeout","cancelProfileAPI","cancelSetProfile","cancelSaveProfile","profileReducer","state","action","concat","length","split","map","i","key","messages","contacts","name","active","addMessage","dialogsReducer","xml","axios","create","baseURL","withCredentials","responseType","cancelled","th","isCancel","createToken","CancelToken","f","API_auth","auth","get","response","login","pass","stay","logout","cancelToken","catch","method","API_users","getUsers","page","limit","url","cancelGetUsers","API_friends","setFriendTo","console","log","API_follow","setFollowTo","module","exports","getAuth","AuthContext","React","createContext","useAuth","useContext","mapDispatchToProps","setLoginError","loginAPI","logoutAPI","AuthProvider","connect","AU_SL","children","props","isAuth","fetching","Provider","value","friendsBar","friendsList","friendIsFetching","totalFriends","setFriendsBar","setFriendsList","toggleFriendFetching","setFriendToAPI","makeFriend","a","body","JSON","stringify","friendId","friends","friendsReducer","uid","includes","filter","followList","followIsFetching","totalFollow","toggleFollowFetching","followReducer","follow","users","totalUsers","isLoading","userReducer","user","userId","followed","initialized","appReducer","reducers","combineReducers","profile","dialogs","usersReducer","authReducer","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","css","g_css","l_css","UserMenu","userID","havePH","className","user_menu","to","userName","Avatar","size","shadow","href","onClick","e","preventDefault","Header","header","wrapper","src","alt","validate","notNull","reduxForm","error","cc","cc_column","button","accept_error","onSubmit","handleSubmit","Field","label","component","InputText","settings","InputCheck","login_button","act","active_link","NavBar","bar","block","default_a","PreloadContent","noContent","noContentFiller","lg","clearContent","container","exact","offset","UsersSearch","activeClassName","Friend","friend","banners","advBanner_0","advBanner_1","styles","display","height","AdvBar","style","FriendList","Links","tFR","tFS","tFL","num_label","FriendsBar","totalFollowers","left_bar","left_offset","FriendsBarContainer","Hello","hello","clickHandler","callBack","param","UserInfo","user_info_container","location","country","city","status","no_status","UserSettings","isFriend","f_iSLoading","is_I_Follow","i_f_iSLoading","user_settings_container","click","isOn","onContent","offContent","FetchingA","classNM","handling","selected","content","UserSettingsFiller","background","opacity","User","photos","userProps","small","UserList","passProps","UploadButton","isActive","setPageToNext","lb","ub","Users","canUploadMore","content_wrapper","getTotalUsers","getIsLoading","getUsersLimit","getUsersPage","getFriendsList","getTotalFriends","getFriendIsFetching","getFollowList","getTotalFollow","getFollowIsFetching","getUsersAPI","Object","values","setFollowList","updateUsersAPI","setFollowToAPI","makeFollow","followId","cancelUsersAPI","US_SL","FR_SL","FW_SL","useEffect","GlobalLoading","cover","cover_hide","Loading","ProfileContainer","lazy","Dialogs","Content","path","render","withSuspense","UsersContainer","initAppAPI","authAPI","Boolean","hostname","match","document","getElementById","navigator","serviceWorker","ready","registration","unregister","setAuth","setFetchingAuth","errorCode","stopSubmit","_error","LoadingIcon","role","dot","before_content","hide_a_sec","sizeToClass","a_z","a_s","a_m","a_l","noImageSRC","avatar","shadow_inset","TextArea","input","meta","hasError","touched","field_error","field_error_box","extraClass","input_text","input_checkbox","htmlFor","NoContent","v","undefined","maxLength","Component","Suspense","fallback"],"mappings":"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","file":"static/js/main.541020f7.chunk.js","sourcesContent":["import React from 'react'\r\nimport { reset } from 'redux-form'\r\nimport { API_profile } from 'api/api'\r\n\r\n\r\nconst\r\n  ADD_POST = 'profile:ADD-POST',\r\n  RESET_PAGE = 'profile:RESET-PAGE',\r\n  SET_PROFILE = 'profile:SET-PROFILE',\r\n  SET_CURRENT_ID = 'profile:SET-CURRENT-ID',\r\n  SET_SAVING_PROFILE = 'profile:SET-SAVING-PROFILE'\r\n\r\n\r\n// state.profile.\r\nconst initialState = {\r\n  posts: [\r\n    {id: 0, likes: 0, message: `Hey, sup?`},\r\n    {id: 1, likes: 23, message: `it's my first post`}\r\n  ],\r\n\r\n  info: null,             // null -> page is loading, false -> no user, [...] -> user info\r\n  currentID: null,        // хранит ID показываемого профайла,\r\n                          // чтобы менять содержимое страницы, если он вдруг изменится\r\n                          // типа URL то при этом меняется, но вот <Route просто\r\n                          // переиспользует созданный ранее инстанс класса ProfileContainer\r\n  saving: false\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts].concat({\r\n          id: state.posts.length,\r\n          likes: 0,\r\n          message: action.text\r\n            .split('\\n')\r\n            .map((text, i) => <p key={i}>{text}</p>)\r\n        })\r\n      }\r\n\r\n    case SET_PROFILE:\r\n      return {\r\n        ...state,\r\n        info: action.info\r\n      }\r\n\r\n    case SET_CURRENT_ID:\r\n      return {\r\n        ...state,\r\n        currentID: action.id\r\n      }\r\n\r\n    case RESET_PAGE:\r\n      return {\r\n        ...initialState\r\n      }\r\n\r\n    case SET_SAVING_PROFILE:\r\n      return {\r\n        ...state,\r\n        saving: action.saving\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// actions\r\nexport const addPostAC = (text) => ({type: ADD_POST, text})\r\nexport const resetPage = () => ({type: RESET_PAGE})\r\nexport const setProfile = (info) => ({type: SET_PROFILE, info})\r\nexport const setCurrentId = (id) => ({type: SET_CURRENT_ID, id})\r\nexport const setSavingProfile = (saving) => ({type: SET_SAVING_PROFILE, saving})\r\n\r\n\r\n// thunks\r\nexport const addPost = (formData, formName) => (dispatch) => {\r\n  dispatch(reset(formName))\r\n  dispatch(addPostAC(formData.text))\r\n}\r\n\r\nexport const setProfileAPI = (id) => (dispatch) => {\r\n\r\n  dispatch(setCurrentId(id))\r\n\r\n  API_profile.setProfile(id)\r\n    .then(data => {\r\n      if (data)\r\n        dispatch(setProfile(data.info))\r\n    })\r\n\r\n\r\n}\r\n\r\nexport const saveProfileAPI = (data, callback) => (dispatch) => {\r\n\r\n  dispatch(setSavingProfile(true))\r\n\r\n  API_profile.saveProfile('patch', data)\r\n    .then(data => {\r\n      if (data) {\r\n        dispatch(setProfile(data.info))\r\n        callback(data.info.userInfo)\r\n      }\r\n      setTimeout(() => dispatch(setSavingProfile(false)), 100)\r\n    })\r\n}\r\n\r\nexport const cancelProfileAPI = () => () => {\r\n  API_profile.cancelSetProfile()\r\n  API_profile.cancelSaveProfile()\r\n}\r\n\r\n\r\nexport default profileReducer\r\n","import React from 'react'\r\nimport { reset } from 'redux-form'\r\n\r\nconst\r\n  ADD_MESSAGE = 'dialogs:ADD-MESSAGE'\r\n\r\n\r\n// state.dialogs.\r\nconst initialState = {\r\n  messages: [\r\n    {id: 0, text: 'message #0'},\r\n    {id: 1, text: 'message #1'},\r\n    {id: 2, text: 'message #2'},\r\n  ],\r\n\r\n  contacts: [\r\n    {id: 0, name: 'Dimych', active: true},\r\n    {id: 1, name: 'Elijah'},\r\n    {id: 2, name: 'Klaus'},\r\n    {id: 3, name: 'Sam'},\r\n    {id: 4, name: 'Eby'},\r\n    {id: 5, name: 'Erny'}\r\n  ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages].concat({\r\n          id: state.messages.length,\r\n          text: action.text\r\n            .split('\\n')\r\n            .map((text, i) => <p key={i}>{text}</p>)\r\n        })\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst addMessageAC = (text) => ({type: ADD_MESSAGE, text })\r\n\r\nexport const addMessage = (formData, formName) => (dispatch) => {\r\n  dispatch(reset(formName))\r\n  dispatch(addMessageAC(formData.text))\r\n}\r\n\r\nexport default dialogsReducer","import axios from 'axios'\r\n\r\nconst xml = axios.create({\r\n  baseURL: 'https://fishup.fun/api/',\r\n  withCredentials: 'include',\r\n  responseType: 'json'\r\n})\r\n\r\nconst cancelled = (th) => {\r\n  return !axios.isCancel(th)\r\n}\r\n\r\nconst createToken = (callback) => {\r\n  return new axios.CancelToken(f => callback(f))\r\n}\r\n\r\nexport const API_auth = {\r\n  auth() {\r\n    return xml.get('auth.php')\r\n      .then(response => response.data)\r\n  },\r\n\r\n  login(login, pass, stay) {\r\n    return xml.get(`auth.php?login=${login}&pass=${pass}&stay=${stay}`)\r\n      .then(response => response.data)\r\n  },\r\n\r\n  logout() {\r\n    return xml.get('auth.php?kill')\r\n  }\r\n}\r\n\r\nexport const API_profile = {\r\n  setProfile(id) {\r\n\r\n    const cancelToken = createToken(f => this.cancelSetProfile = f)\r\n\r\n    return xml.get(`profile.php?id=${id}`, {cancelToken})\r\n      .then(response => response.data)\r\n      .catch(th => cancelled(th))\r\n  }, cancelSetProfile(){},\r\n\r\n  saveProfile(method, data) {\r\n\r\n    const cancelToken = createToken(f => this.cancelSaveProfile = f)\r\n\r\n    return xml('profile.php', {method, data, cancelToken})\r\n      .then(response => response.data)\r\n      .catch(th => cancelled(th))\r\n  }, cancelSaveProfile(){}\r\n}\r\n\r\n\r\nexport const API_users = {\r\n  getUsers(page, limit) {\r\n\r\n    const url = `users.php?page=${page}&limit=${limit}`\r\n    const cancelToken = createToken(f => this.cancelGetUsers = f)\r\n\r\n    return xml.get(url, { cancelToken })\r\n      .then(response => response.data)\r\n      .catch(th => cancelled(th))\r\n  }, cancelGetUsers() {}\r\n}\r\n\r\n\r\nexport const API_friends = {\r\n  setFriendTo(method, data) {\r\n\r\n    console.log(method, data)\r\n\r\n    return xml('friends.php', {method, data})\r\n      .then(response => response.data)\r\n  }\r\n}\r\n\r\n\r\nexport const API_follow = {\r\n  setFollowTo(method, data) {\r\n    return xml('follow.php', {method, data})\r\n      .then(response => response.data)\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loading_wrapper__1spbP\",\"dot\":\"Loading_dot__2koHJ\",\"effect-3\":\"Loading_effect-3__2QGSa\",\"effect-1\":\"Loading_effect-1__1THHJ\",\"effect-2\":\"Loading_effect-2__3bTvh\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_menu\":\"UserMenu_user_menu__1nlBp\",\"logout\":\"UserMenu_logout__3jt_B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2khbE\",\"wrapper\":\"Header_wrapper__1jed6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Login_settings__BcrOD\",\"login_button\":\"Login_login_button__GWgT7\",\"accept_error\":\"Login_accept_error__3Ft71\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"NavBar_bar__2k9lF\",\"offset\":\"NavBar_offset__uOgXA\",\"container\":\"NavBar_container__34xTx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UsersSearch_container__2pAuk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__2DxG2\"};","module.exports = __webpack_public_path__ + \"static/media/advBanner_0.73869519.png\";","module.exports = __webpack_public_path__ + \"static/media/advBanner_1.6720313d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hello\":\"Hello_hello__3G5Cx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__4mMfO\",\"user_info_container\":\"User_user_info_container__1psho\",\"no_status\":\"User_no_status__2Qwff\",\"user_settings_container\":\"User_user_settings_container__2bEbe\",\"selected\":\"User_selected__1mAEL\",\"handling\":\"User_handling__VYQpR\",\"dots\":\"User_dots__1A4Uw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content_wrapper\":\"Users_content_wrapper__2ZKCr\",\"ub\":\"Users_ub__2WJv_\",\"lb\":\"Users_lb__3BRjZ\",\"loading_wrapper\":\"Users_loading_wrapper__1rpUc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cover\":\"GlobalLoading_cover__2R97-\",\"cover_hide\":\"GlobalLoading_cover_hide__2o1LP\"};","export const getAuth = (state) => state.auth","import React, {useContext} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport * as AU_SL from 'selectors/auth-selectors'\r\nimport {setLoginError, loginAPI, logoutAPI} from 'redux/auth-reducer'\r\n\r\nconst AuthContext = React.createContext(null)\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nconst CreateProvider = ({children, ...props}) => {\r\n  const auth = {\r\n    auth: props.auth,\r\n    isAuth: props.auth.isAuth,\r\n    fetching: props.auth.fetching,\r\n\r\n    login: props.loginAPI,\r\n    logout: props.logoutAPI,\r\n    setLoginError: props.setLoginError\r\n  }\r\n\r\n  return <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: AU_SL.getAuth(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  setLoginError,\r\n  loginAPI,\r\n  logoutAPI\r\n}\r\n\r\nexport const AuthProvider = connect(mapStateToProps, mapDispatchToProps)(CreateProvider)\r\n","import {API_friends} from 'api/api'\r\n\r\nconst SET_FRIENDS_BAR = 'friends:SET-FRIENDS-BAR',\r\n  SET_FRIENDS_LIST = 'friends:SET-FRIENDS-LIST',\r\n  SET_FRIENDS = 'friends:SET_FRIENDS',\r\n  TOGGLE_FRIEND_FETCHING = 'friends:TOGGLE-FRIEND-FETCHING'\r\n\r\n\r\n// state.friends.\r\nconst initialState = {\r\n  friendsBar: [],\r\n  friendsList: [],\r\n\r\n  friendIsFetching: [],\r\n  totalFriends: null\r\n}\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_FRIENDS_BAR:\r\n      return {\r\n        ...state,\r\n        friendsBar: action.friendsBar,\r\n        totalFriends: action.totalFriends\r\n      }\r\n\r\n    case SET_FRIENDS_LIST:\r\n      return {\r\n        ...state,\r\n        friendsList: action.friendsList,\r\n        totalFriends: action.totalFriends\r\n      }\r\n\r\n    case SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        ...action.friends\r\n      }\r\n\r\n    case TOGGLE_FRIEND_FETCHING:\r\n      const uid = action.id\r\n\r\n      return {\r\n        ...state,\r\n        friendIsFetching: state.friendIsFetching.includes(uid)\r\n          ? state.friendIsFetching.filter(id => id !== uid)\r\n          : [...state.friendIsFetching, uid]\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n// actions\r\nexport const setFriendsBar = (friendsBar = [], totalFriends = 0) => ({\r\n  type: SET_FRIENDS_BAR,\r\n  totalFriends,\r\n  friendsBar\r\n})\r\nexport const setFriendsList = (friendsList = [], totalFriends = 0) => ({\r\n  type: SET_FRIENDS_LIST,\r\n  totalFriends,\r\n  friendsList\r\n})\r\nexport const setFriends = (friends) => ({type: SET_FRIENDS, friends})\r\nexport const toggleFriendFetching = (id) => ({type: TOGGLE_FRIEND_FETCHING, id})\r\n\r\n// thunks\r\nexport const setFriendToAPI = (id, makeFriend) => async (dispatch) => {\r\n\r\n  const body = JSON.stringify({friendId: id})\r\n  const method = makeFriend ? 'PATCH' : 'DELETE'\r\n\r\n  dispatch(toggleFriendFetching(id))\r\n\r\n  const data = await API_friends.setFriendTo(method, body)\r\n  dispatch(toggleFriendFetching(id))\r\n  dispatch(setFriends(data))\r\n}\r\n\r\n\r\nexport default friendsReducer","import { API_follow } from 'api/api'\r\n\r\nconst SET_FOLLOW = 'follow:SET-FOLLOW',\r\n  SET_FOLLOW_LIST = 'follow:SET-FOLLOW-LIST',\r\n  TOGGLE_FOLLOW_FETCHING = 'follow:TOGGLE-FRIEND-FETCHING'\r\n\r\n\r\n// state.follow.\r\nconst initialState = {\r\n  followList: [],\r\n\r\n  followIsFetching: [],\r\n  totalFollow: null\r\n}\r\n\r\nconst followReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_FOLLOW:\r\n      return {\r\n        ...state,\r\n        ...action.follow\r\n      }\r\n    case SET_FOLLOW_LIST:\r\n      return {\r\n        ...state,\r\n        followList: action.followList,\r\n        totalFollow: action.totalFollow\r\n      }\r\n    case TOGGLE_FOLLOW_FETCHING:\r\n      const uid = action.id\r\n\r\n      return {\r\n        ...state,\r\n        followIsFetching: state.followIsFetching.includes(uid)\r\n          ? state.followIsFetching.filter(id => id !== uid)\r\n          : [...state.followIsFetching, uid]\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n// actions\r\nexport const setFollow = (follow) => ({type: SET_FOLLOW, follow})\r\nexport const setFollowList = (followList = [], totalFollow = 0) => ({\r\n  type: SET_FOLLOW_LIST,\r\n  totalFollow,\r\n  followList\r\n})\r\nexport const toggleFollowFetching = (id) => ({type: TOGGLE_FOLLOW_FETCHING, id})\r\n\r\n\r\n// thunks\r\nexport const setFollowToAPI = (id, makeFollow) => async (dispatch) => {\r\n\r\n  const body = JSON.stringify({followId: id})\r\n  const method = makeFollow ? 'PATCH' : 'DELETE'\r\n\r\n  dispatch(toggleFollowFetching(id))\r\n\r\n  const data = await API_follow.setFollowTo(method, body)\r\n  dispatch(toggleFollowFetching(id))\r\n  dispatch(setFollow(data))\r\n}\r\n\r\n\r\nexport default followReducer","import { API_users } from 'api/api'\r\nimport { setFriendsList } from 'redux/friends-reducer'\r\nimport { setFollowList } from 'redux/follow-reducer'\r\n\r\n/**\r\n @param {{userId:number}} data\r\n*/\r\n\r\nconst\r\n  RESET_PAGE = 'users:RESET-PAGE',\r\n  SET_USERS = 'users:SET-USERS',\r\n  UPDATE_USERS = 'users:UPDATE-USERS',\r\n  TOGGLE_IS_LOADING = 'users:SET-IS-LOADING',\r\n  TOGGLE_FOLLOW = 'users:TOGGLE-FOLLOW-USER',\r\n  SET_PAGE_TO_NEXT = 'users:SET-PAGE-TO-NEXT'\r\n\r\n// state.users.\r\nconst initialState = {\r\n  users: null,       // null -> page is loading, false -> no users, [...] -> users list\r\n\r\n  page: 0,           // last uploaded users page\r\n  limit: 4,          // users per 1 upload\r\n  totalUsers: 0,     // total users on server\r\n  isLoading: false   // идет догрузка пользователей\r\n}\r\n\r\nfunction userReducer(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case TOGGLE_FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user =>\r\n          user.id === action.userId\r\n            ? {...user, followed: !user.followed}\r\n            : user\r\n        )\r\n      }\r\n\r\n    case SET_PAGE_TO_NEXT:\r\n      return {\r\n        ...state,\r\n        page: state.page + 1\r\n      }\r\n\r\n    case RESET_PAGE:\r\n      return {\r\n        ...initialState\r\n      }\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n        totalUsers: action.totalUsers\r\n      }\r\n\r\n    case UPDATE_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...state.users].concat(action.users)\r\n      }\r\n\r\n    case TOGGLE_IS_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: !state.isLoading\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// actions\r\nexport const setPageToNext = () => ({type: SET_PAGE_TO_NEXT})\r\nexport const resetPage = () => ({type: RESET_PAGE})\r\nexport const setUsers = (users, totalUsers) => ({\r\n  type: SET_USERS,\r\n  totalUsers,\r\n  users: Object.values(users)\r\n})\r\nexport const updateUsers = (users) => ({type: UPDATE_USERS, users: Object.values(users)})\r\nexport const toggleIsLoading = () => ({type: TOGGLE_IS_LOADING})\r\n\r\n\r\n// thunks\r\nexport const getUsersAPI = (page, limit) => (dispatch) => {\r\n  API_users.getUsers(page, limit)\r\n    .then(data => {\r\n      if (data) {\r\n        dispatch(setUsers(data.users, data.totalUsers))\r\n        dispatch(setFriendsList(data.friendsList, data.totalFriends))\r\n        dispatch(setFollowList(data.followList, data.totalFollow))\r\n      }\r\n    })\r\n}\r\n\r\nexport const updateUsersAPI = (page, limit) => (dispatch) => {\r\n  dispatch(toggleIsLoading())\r\n\r\n  API_users.getUsers(page, limit)\r\n    .then(data => {\r\n      if (data) {\r\n        dispatch(updateUsers(data.users))\r\n        dispatch(toggleIsLoading())\r\n      }\r\n    })\r\n}\r\n\r\nexport const cancelUsersAPI = () => () => {\r\n  API_users.cancelGetUsers()\r\n}\r\n\r\nexport default userReducer","import {authAPI} from './auth-reducer'\r\n\r\nconst INIT_APP = 'app:INIT-APP'\r\n\r\n\r\n// state.app.\r\nconst initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  if (action.type === INIT_APP)\r\n    return {...state, initialized: true}\r\n\r\n  return state\r\n}\r\n\r\n\r\n// actions\r\nexport const initApp = () => ({type: INIT_APP})\r\n\r\n// thunks\r\nexport const initAppAPI = () => async (dispatch) => {\r\n\r\n  await dispatch(authAPI())\r\n\r\n  dispatch(initApp())\r\n}\r\n\r\nexport default appReducer","import {createStore, combineReducers, applyMiddleware, compose} from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport friendsReducer from './friends-reducer'\r\nimport followReducer from './follow-reducer'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\n\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nconst reducers = combineReducers({\r\n  friends: friendsReducer,\r\n  profile: profileReducer,\r\n  dialogs: dialogsReducer,\r\n  follow: followReducer,\r\n  users: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n  applyMiddleware(thunk)\r\n));\r\n\r\n//const store = createStore(reducers, applyMiddleware(thunk))\r\n\r\nexport default store","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport Avatar from 'components/Common/Avatar/Avatar'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './UserMenu.module.css'\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst UserMenu = () => {\r\n  const { auth, logout } = useAuth()\r\n\r\n  const id = auth.userInfo.userID\r\n  const havePH = auth.userInfo.havePH\r\n  const clickHandler = e => { e.preventDefault(); logout() }\r\n\r\n  return (\r\n    <div className={css.user_menu}>\r\n      <NavLink to='/profile'>{auth.userInfo.userName}</NavLink>\r\n      <Avatar id={id} havePH={havePH} size={'mini'} shadow={true}/>\r\n      <a href='/#' className={css.logout} onClick={clickHandler}>×</a>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserMenu","import React from 'react'\r\n\r\nimport UserMenu from './UserMenu/UserMenu'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Header.module.css'\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Header = () => {\r\n\r\n  const { isAuth, fetching } = useAuth()\r\n\r\n  return (\r\n    <header className={`${css.header}`}>\r\n      <div className={css.wrapper}>\r\n        <img src='https://jasonpallone.com/React-icon.png' alt=''/>\r\n        { isAuth && !fetching && <UserMenu/> }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\nimport {notNull} from 'utils/validators'\r\nimport {InputText, InputCheck} from 'components/Common/FormFields'\r\n\r\nimport g_css from '../../../App.module.css'\r\nimport l_css from './Login.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst validate = {\r\n  login: [notNull('ENTER LOGIN')],\r\n  pass: [notNull('ENTER PASSWORD')]\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n  if (props.error)\r\n    return (\r\n      <div className={`${css.cc} ${css.cc_column}`}>\r\n        <div>{props.error}</div>\r\n        <div\r\n          className={`${css.button} ${css.accept_error}`}\r\n          onClick={() => props.setLoginError(null)}\r\n        >\r\n          OK\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field\r\n        name='login'\r\n        type='text'\r\n        label='login'\r\n        component={InputText}\r\n        validate={validate.login}\r\n      />\r\n\r\n      <Field\r\n        name='pass'\r\n        type='password'\r\n        label='password'\r\n        component={InputText}\r\n        validate={validate.pass}\r\n      />\r\n\r\n      <div className={css.settings}>\r\n        <Field\r\n          id='stay'\r\n          name='stay'\r\n          type='checkbox'\r\n          label='stay in'\r\n          component={InputCheck}\r\n        />\r\n\r\n        <button className={`${css.button} ${css.login_button}`}>LOGIN</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({form: 'login'})(Login)","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport Login from 'components/Common/LoginBlock/Login'\r\nimport PreloadContent from 'components/Common/PreloadContent/PreloadContent'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './NavBar.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\nconst act = {'activeClassName': css.active_link}\r\n\r\nconst NavBar = () => {\r\n\r\n  const { isAuth, fetching, login, setLoginError } = useAuth()\r\n  const onSubmit = formData => {\r\n    const {login: lg, pass, stay = 1} = formData\r\n    login(lg, pass, stay ? 1 : 0)\r\n  }\r\n\r\n  return (\r\n    <nav className={`${css.bar} ${css.block} ${css.default_a} ${css.cc} ${css.cc_column}`}>\r\n      <PreloadContent\r\n        isLoading={isAuth === null || fetching}\r\n        noContent={isAuth === false}\r\n        noContentFiller={<Login onSubmit={onSubmit} setLoginError={setLoginError}/>}\r\n        clearContent={true}\r\n      >\r\n        <div className={css.container}>\r\n          <NavLink to='/profile' exact {...act}>Profile</NavLink>\r\n          <NavLink to='/dialogs' {...act}>Dialogs</NavLink>\r\n          <NavLink to='/news' {...act}>News</NavLink>\r\n          <NavLink to='/music' {...act}>Music</NavLink>\r\n\r\n          <NavLink to='/settings' className={css.offset} {...act}>Settings</NavLink>\r\n        </div>\r\n      </PreloadContent>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default NavBar","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './UsersSearch.module.css'\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst UsersSearch = () => {\r\n  return (\r\n    <div className={`${css.block} ${css.container}`}>\r\n      <NavLink to='/users' activeClassName={css.active_link}>Find user</NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersSearch","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport Avatar from 'components/Common/Avatar/Avatar'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Friend.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Friend = ({id, name, havePH}) => {\r\n  return (\r\n    <div className={css.friend}>\r\n      <Avatar id={id} havePH={havePH} size={'mini'}/>\r\n\r\n      <NavLink to={`/profile/${id}`}>\r\n        <b>{name}</b>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Friend","import React from 'react'\r\n\r\nimport advBanner_0 from 'assets/images/advBanner_0.png'\r\nimport advBanner_1 from 'assets/images/advBanner_1.png'\r\n\r\nconst banners = [advBanner_0, advBanner_1]\r\nconst styles = [\r\n  { display: 'block', height: '86px' },\r\n  { display: 'block', height: '174px' }\r\n]\r\n\r\nconst AdvBar = ({ id }) => {\r\n\r\n  return (\r\n    <a href='https://cash-bot.com/ch/'>\r\n      <img src={banners[id]} style={styles[id]} alt=''/>\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default AdvBar","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport Friend from './Friend/Friend'\r\nimport AdvBar from 'components/Common/AdvBar/AdvBar'\r\n\r\nimport css from 'App.module.css'\r\n\r\nconst FriendsBar = (props) => {\r\n\r\n  const { isAuth } = useAuth()\r\n  const { totalFriends, totalFollowers = 0, totalFollow } = props\r\n\r\n  return (\r\n    <>\r\n      <aside className={`${css.block} ${css.left_bar}`}>\r\n        {\r\n          isAuth\r\n            ? <Links tFR={totalFriends} tFS={totalFollowers} tFL={totalFollow}/>\r\n            : <AdvBar id={0}/>\r\n        }\r\n      </aside>\r\n\r\n      <aside className={`${css.block} ${css.left_offset}`}>\r\n        {\r\n          props.totalFriends\r\n            ? <FriendList friends={props.friends}/>\r\n            : <AdvBar id={1}/>\r\n        }\r\n      </aside>\r\n    </>\r\n  )\r\n}\r\n\r\nconst FriendList = ({friends}) => {\r\n  return friends.map(friend => <Friend key={friend.id} {...friend}/>)\r\n}\r\n\r\nconst Links = ({tFR, tFS, tFL}) => {\r\n  return (\r\n    <>\r\n      <div className={css.num_label}>\r\n        <NavLink to='/friends' activeClassName={css.active_link}>My friends</NavLink>\r\n        <div><b>{tFR}</b></div>\r\n      </div>\r\n\r\n      <div className={css.num_label}>\r\n        <NavLink to='/followers' activeClassName={css.active_link}>My followers</NavLink>\r\n        <div><b>{tFS}</b></div>\r\n      </div>\r\n\r\n      <div className={css.num_label}>\r\n        <NavLink to='/follow' activeClassName={css.active_link}>I follow</NavLink>\r\n        <div><b>{tFL}</b></div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default FriendsBar","import { connect } from 'react-redux'\r\n\r\nimport FriendsBar from './FriendsBar'\r\n\r\nconst mapStateToProps = (state) => ({\r\n  friends: state.friends.friendsBar,\r\n  totalFriends: state.friends.totalFriends,\r\n  totalFollow: state.follow.totalFollow\r\n})\r\n\r\nconst FriendsBarContainer = connect(mapStateToProps)(FriendsBar)\r\n\r\nexport default FriendsBarContainer","import React from 'react'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Hello.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Hello = () => {\r\n  return (\r\n    <div className={`${css.block} ${css.cc} ${css.hello}`}>\r\n      <h1>Greetings stranger!</h1>\r\n      <p>This is a social network react-rookie-app</p>\r\n      <p>Please show some mercy to the poor creature trying to do this well</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Hello","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport Avatar from 'components/Common/Avatar/Avatar'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './User.module.css'\r\n\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst clickHandler = (e, callBack = false, ...param) => {\r\n  e.preventDefault()\r\n  if (callBack)\r\n    callBack(...param)\r\n}\r\n\r\nconst User = (props) => {\r\n\r\n  const { isAuth } = useAuth()\r\n  const { id, photos, name, location, status, ...userProps } = props\r\n\r\n  return (\r\n    <div className={`${css.block} ${css.user}`}>\r\n      <Avatar id={id} havePH={photos.small} size={'medium'}/>\r\n      <UserInfo id={id} name={name} location={location} status={status}/>\r\n      {\r\n        isAuth\r\n          ? <UserSettings id={id} {...userProps}/>\r\n          : <UserSettingsFiller/>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UserInfo = (props) => {\r\n  return (\r\n    <div className={css.user_info_container}>\r\n      <NavLink to={`/profile/${props.id}`}>\r\n        <b>{props.name} : {props.id}</b>\r\n      </NavLink>\r\n      <u>{props.location.country} : {props.location.city}</u>\r\n      <p>{props.status || <i className={css.no_status}>no status</i>}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UserSettings = (props) => {\r\n\r\n  const id = props.id\r\n  const isFriend = props.friendsList.includes(id)\r\n  const f_iSLoading = props.friendIsFetching.includes(id)\r\n\r\n  const is_I_Follow = props.followList.includes(id)\r\n  const i_f_iSLoading = props.followIsFetching.includes(id)\r\n\r\n  return (\r\n    <div className={`${css.user_settings_container} ${css.default_a}`}>\r\n      <FetchingA\r\n        click={(e) => clickHandler(e, props.setFollowTo, id, !is_I_Follow)}\r\n        isLoading={i_f_iSLoading}\r\n        isOn={is_I_Follow}\r\n        onContent='un-follow'\r\n        offContent='follow'\r\n      />\r\n\r\n      <FetchingA\r\n        click={(e) => clickHandler(e, props.setFriendTo, id, !isFriend)}\r\n        isLoading={f_iSLoading}\r\n        isOn={isFriend}\r\n        onContent='un-friend'\r\n        offContent='set as friend'\r\n      />\r\n\r\n      <a href='/#' onClick={clickHandler}>send message</a>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst FetchingA = ({click, isLoading, isOn, onContent, offContent}) => {\r\n\r\n  const onClick = isLoading ? clickHandler : click,\r\n        classNM = isLoading ? css.handling : isOn ? css.selected : null,\r\n        content = isOn ? onContent : offContent\r\n\r\n    return <a href='/#' onClick={onClick} className={classNM}>{content}</a>\r\n}\r\n\r\nconst UserSettingsFiller = () => {\r\n  return (\r\n    <div className={`${css.user_settings_container} ${css.default_a}`}\r\n         style={{background: 'var(--gray)', opacity: '.5'}}/>\r\n  )\r\n}\r\n\r\nexport default User","import React from 'react'\r\n\r\nimport User from './User/User'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Users.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Users = (props) => {\r\n\r\n  const { isLoading, setPageToNext, ...userProps } = props\r\n  const canUploadMore = (props.page * props.limit + props.limit) < props.totalUsers\r\n\r\n  return (\r\n    <div className={css.content_wrapper}>\r\n      <UserList {...userProps}/>\r\n      <UploadButton\r\n        isLoading={props.totalUsers !== 0 && isLoading}\r\n        isActive= {props.totalUsers !== 0 && !isLoading && canUploadMore}\r\n        setPageToNext={setPageToNext}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UserList = (props) => {\r\n  if (props.totalUsers) {\r\n    const {users, ...passProps} = props;\r\n    return users.map(user => <User key={user.id} {...passProps} {...user} />)\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nconst UploadButton = ({ isLoading, isActive, setPageToNext }) => {\r\n  if (isLoading) {\r\n    return <div className={`${css.button} ${css.lb}`}>LOADING...</div>\r\n  }\r\n\r\n  if (isActive) {\r\n    return <div className={`${css.button} ${css.ub}`} onClick={setPageToNext}>UPLOAD MORE</div>\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nexport default Users","export const getTotalUsers = (state) => state.users.totalUsers\r\nexport const getIsLoading = (state) => state.users.isLoading\r\nexport const getUsers = (state) => state.users.users\r\nexport const getUsersLimit = (state) => state.users.limit\r\nexport const getUsersPage = (state) => state.users.page","export const getFriendsList = (state) => state.friends.friendsList\r\nexport const getTotalFriends = (state) => state.friends.totalFriends\r\nexport const getFriendIsFetching = (state) => state.friends.friendIsFetching\r\n","export const getFollowList = (state) => state.follow.followList\r\nexport const getTotalFollow = (state) => state.follow.totalFollow\r\nexport const getFollowIsFetching = (state) => state.follow.followIsFetching","import React, {useEffect} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Users from './Users'\r\nimport PreloadContent from 'components/Common/PreloadContent/PreloadContent'\r\n\r\nimport {setFriendToAPI} from 'redux/friends-reducer'\r\nimport {setFollowToAPI} from 'redux/follow-reducer'\r\nimport {resetPage, setPageToNext, getUsersAPI, updateUsersAPI, cancelUsersAPI}\r\n  from 'redux/users-reducer'\r\n\r\nimport * as US_SL from 'selectors/users-selectors'\r\nimport * as FR_SL from 'selectors/friends-selector'\r\nimport * as FW_SL from 'selectors/follow-selector'\r\n\r\nconst UsersAPI = (props) => {\r\n\r\n  // var\r\n  const { page, limit } = props\r\n  const { users, totalFriends, totalFollow } = props\r\n  const { getUsersAPI, updateUsersAPI, cancelUsersAPI, resetPage } = props\r\n\r\n  // effects\r\n  useEffect(() => {\r\n    if (page === 0) getUsersAPI(page, limit)  // load first page\r\n    else updateUsersAPI(page, limit)          // upload more pages\r\n  }, [page, limit, getUsersAPI, updateUsersAPI])\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      cancelUsersAPI()\r\n      resetPage()\r\n    }\r\n  }, [cancelUsersAPI, resetPage])\r\n\r\n  // render\r\n  return (\r\n    <PreloadContent\r\n      isLoading={users === null || totalFriends === null || totalFollow === null}\r\n      noContent={props.users === false}\r\n      noContentFiller={'no users found'}\r\n    >\r\n      <Users\r\n        setFriendTo={props.setFriendToAPI}\r\n        setFollowTo={props.setFollowToAPI}\r\n        {...props}\r\n      />\r\n    </PreloadContent>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  totalUsers: US_SL.getTotalUsers(state),\r\n  isLoading: US_SL.getIsLoading(state),\r\n  users: US_SL.getUsers(state),\r\n  limit: US_SL.getUsersLimit(state),\r\n  page: US_SL.getUsersPage(state),\r\n\r\n  friendsList: FR_SL.getFriendsList(state),\r\n  totalFriends: FR_SL.getTotalFriends(state),\r\n  friendIsFetching: FR_SL.getFriendIsFetching(state),\r\n\r\n  followList: FW_SL.getFollowList(state),\r\n  totalFollow: FW_SL.getTotalFollow(state),\r\n  followIsFetching: FW_SL.getFollowIsFetching(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  resetPage,\r\n  setPageToNext,\r\n  getUsersAPI,\r\n  updateUsersAPI,\r\n  setFollowToAPI,\r\n  setFriendToAPI,\r\n  cancelUsersAPI\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersAPI)","import React from 'react'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './GlobalLoading.module.css'\r\nimport{  LoadingIcon } from 'components/Common/Loading/Loading'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst GlobalLoading = ({ initialized }) => {\r\n  return (\r\n    <div className={`${css.cover} ${initialized ? css.cover_hide : null}`}>\r\n      <LoadingIcon/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GlobalLoading","import React, {useEffect} from 'react'\nimport {connect} from 'react-redux'\nimport {Route} from 'react-router-dom'\n\nimport withSuspense from 'HOC/withSuspense'\n\nimport Header from './components/Header/Header'\nimport NavBar from './components/NavBar/NavBar'\nimport UsersSearch from './components/UsersSearch/UsersSearch'\nimport FriendsBarContainer from './components/FriendsBar/FriendsBarContainer'\n\nimport Hello from './components/Hello/Hello'\nimport UsersContainer from './components/Users/UsersContainer'\n\nimport GlobalLoading from 'components/Common/GlobalLoading/GlobalLoading'\n\nimport {AuthProvider} from 'Context/AuthContext'\nimport {initAppAPI} from 'redux/app-reducer'\n\nimport css from 'App.module.css'\n\nconst ProfileContainer = React.lazy(() =>\n  import('./components/Profile/ProfileContainer'))\nconst Dialogs = React.lazy(() =>\n  import('./components/Dialogs/Dialogs'))\n\nconst App = (props) => {\n\n  const {initialized, initAppAPI} = props\n\n  useEffect(() => {\n    initAppAPI()\n  }, [initAppAPI])\n\n  return (\n    <>\n      <GlobalLoading initialized={initialized}/>\n      <Content initialized={initialized}/>\n    </>\n  )\n}\n\nconst Content = ({initialized}) => {\n  if (!initialized)\n    return null\n\n  return (\n    <AuthProvider>\n      <div className={css.wrapper}>\n        <Header/>\n        <NavBar/>\n        <UsersSearch/>\n        <FriendsBarContainer/>\n        <div className={css.content}>\n          <Route path='/' exact render={() => <Hello/>}/>\n          <Route path='/profile/:id?' render={withSuspense(ProfileContainer)}/>\n          <Route path='/dialogs' render={withSuspense(Dialogs)}/>\n          <Route path='/users' render={() => <UsersContainer/>}/>\n          <Route path='/news'/>\n          <Route path='/music'/>\n          <Route path='/settings'/>\n        </div>\n      </div>\n    </AuthProvider>\n  )\n}\n\nconst mapStateToProps = (state) => ({initialized: state.app.initialized})\nconst mapDispatchToProps = {initAppAPI}\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport store from 'redux/redux-store'\nimport App from 'App'\n\nimport 'index.css'\n\nimport * as serviceWorker from 'serviceWorker'\n\nrender(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </BrowserRouter>,\n\n  document.getElementById('root')\n)\n\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"App_block__x_vNq\",\"block_label\":\"App_block_label__1JLtr\",\"before_content\":\"App_before_content__2S8sk\",\"cc\":\"App_cc__1r5cl\",\"cc_inline\":\"App_cc_inline__1NeCl\",\"cc_column\":\"App_cc_column__APSSf\",\"ff_header\":\"App_ff_header__294qd\",\"hide_a_sec\":\"App_hide_a_sec__xOaUs\",\"fadein\":\"App_fadein__2Aa_9\",\"active_link\":\"App_active_link__33Jsc\",\"inline_a\":\"App_inline_a__3eld-\",\"colored_a\":\"App_colored_a__OHu3m\",\"default_a\":\"App_default_a__Xmpsk\",\"num_label\":\"App_num_label__2in1u\",\"button\":\"App_button__SRgcn\",\"a_z\":\"App_a_z__3qy3a\",\"a_s\":\"App_a_s__35yVq\",\"a_m\":\"App_a_m__2-3hL\",\"a_l\":\"App_a_l__2XPXe\",\"avatar\":\"App_avatar__3TM66\",\"shadow_inset\":\"App_shadow_inset__17NSL\",\"input_text\":\"App_input_text__1l-nh\",\"field_error\":\"App_field_error__202nj\",\"field_error_box\":\"App_field_error_box__qThbx\",\"input_checkbox\":\"App_input_checkbox__wc8e7\",\"wrapper\":\"App_wrapper__1ip3W\",\"content\":\"App_content__34Air\",\"left_bar\":\"App_left_bar__3NLP0\",\"left_offset\":\"App_left_offset__33QRd\"};","import {API_auth} from 'api/api'\r\nimport {stopSubmit} from 'redux-form'\r\nimport {setFriendsBar} from 'redux/friends-reducer'\r\n\r\nconst SET_AUTH = 'auth:SET-AUTH',\r\n  SET_FETCHING_AUTH = 'auth:SET-FETCHING-AUTH'\r\n\r\n\r\n// state.auth.\r\nconst initialState = {\r\n  fetching: false, // true - идет запрос login/logout\r\n\r\n  isAuth: null,  // null  - need ask auth from server\r\n                 // false - not authorized\r\n                 // true  - authorized\r\n  userInfo: {\r\n    userID: null,  // user's uniq ID\r\n    userName: null,  // user's shown name\r\n    havePH: null   // true -> user has photo\r\n  }\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH:\r\n      return {\r\n        ...state,\r\n        isAuth: action.userInfo.userID || action.userInfo.userID === 0,\r\n        userInfo: {...(action.userInfo || initialState)}\r\n      }\r\n    case SET_FETCHING_AUTH:\r\n      return {\r\n        ...state,\r\n        fetching: action.fetching\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n// actions\r\nexport const setAuth = (userInfo) => ({type: SET_AUTH, userInfo})\r\nexport const setFetchingAuth = (fetching) => ({type: SET_FETCHING_AUTH, fetching})\r\n\r\n// thunks\r\nexport const setLoginError = (errorCode) => (dispatch) => {\r\n\r\n  let error = null\r\n\r\n  switch (errorCode) {\r\n    case 1: error = 'wrong login or password'; break\r\n    case 2: error = 'please, specify login and password'; break\r\n    default: break\r\n  }\r\n\r\n  dispatch(stopSubmit('login', {_error: error}))\r\n}\r\n\r\nexport const authAPI = () => async (dispatch) => {\r\n  const data = await API_auth.auth()\r\n\r\n  dispatch(setAuth(data.userInfo))\r\n  dispatch(setFriendsBar(data.friendsBar, data.totalFriends))\r\n}\r\n\r\nexport const loginAPI = (login, pass, stay) => async (dispatch) => {\r\n\r\n  dispatch(setFetchingAuth(true))\r\n\r\n  const data = await API_auth.login(login, pass, stay)\r\n\r\n  dispatch(setFetchingAuth(false))\r\n\r\n  if (data.error) {\r\n    setLoginError(data.error)(dispatch)\r\n    return null\r\n  }\r\n\r\n  dispatch(setAuth(data.userInfo))\r\n  dispatch(setFriendsBar(data.friendsBar, data.totalFriends))\r\n}\r\n\r\nexport const logoutAPI = () => async (dispatch) => {\r\n  dispatch(setFetchingAuth(true))\r\n\r\n  await API_auth.logout()\r\n\r\n  dispatch(setFetchingAuth(false))\r\n  dispatch(setAuth(false))\r\n  dispatch(setFriendsBar())\r\n}\r\n\r\nexport default authReducer","import React from 'react'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Loading.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={`${css.block} ${css.before_content} ${css.cc} ${css.hide_a_sec}`}>\r\n      <LoadingIcon />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const LoadingIcon = () => {\r\n  return (\r\n    <div role='img' className={css.wrapper}>\r\n      <div className={css.dot} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading","import React from 'react'\r\n\r\nimport css from 'App.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport noImageSRC from 'assets/images/no_avatar.png'\r\n\r\nconst Avatar = ({ id, havePH, size, shadow = false }) => {\r\n\r\n  let src = noImageSRC\r\n  if (havePH)\r\n    src = `https://fishup.fun/api/users/${id}/avatar.png`\r\n\r\n  return (\r\n    <div\r\n      className={`${css.avatar} ${sizeToClass(size)} ${shadow ? css.shadow_inset : null}`}\r\n      role='img'\r\n    >\r\n      <NavLink to={`/profile/${id}`}>\r\n        <img src={src} alt='' />\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst sizeToClass = (size) => {\r\n  switch (size) {\r\n    case 'mini'  : return css.a_z\r\n    case 'small' : return css.a_s\r\n    case 'medium': return css.a_m\r\n    case 'large' : return css.a_l\r\n    default: return null\r\n  }\r\n}\r\n\r\nexport default Avatar","import React from 'react'\r\nimport css from 'App.module.css'\r\n\r\nexport const TextArea = ({input, meta, ...props}) => {\r\n\r\n  const hasError = meta.touched && meta.error\r\n\r\n  return (\r\n    <>\r\n      <textarea\r\n        className={hasError ? css.field_error : null}\r\n        {...input}\r\n        {...props}\r\n      />\r\n      { hasError && <div className={css.field_error_box}>{meta.error}</div> }\r\n    </>\r\n  )\r\n}\r\n\r\nexport const InputText = ({label, extraClass = null, input, meta, ...props}) => {\r\n\r\n  const hasError = meta.touched && meta.error\r\n\r\n  return (\r\n    <div className={css.input_text + (extraClass ? ' ' + extraClass : '')}>\r\n      <input\r\n        className={hasError ? css.field_error : null}\r\n        {...input}\r\n        {...props}\r\n      />\r\n      { hasError && <div className={css.field_error_box}>{meta.error}</div> }\r\n      <label>{label}</label>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const InputCheck = ({label, input, ...props}) => {\r\n  return (\r\n    <div className={css.input_checkbox}>\r\n      <input\r\n        {...input}\r\n        {...props}\r\n      />\r\n      <label htmlFor={props.id}>{label}</label>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\n\r\nimport css from 'App.module.css'\r\n\r\nconst NoContent = ({children}) => {\r\n  return (\r\n    <div className={`${css.block} ${css.before_content} ${css.cc}`}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NoContent","import React from 'react'\r\n\r\nimport Loading, { LoadingIcon } from 'components/Common/Loading/Loading'\r\nimport NoContent from 'components/Common/NoContent/NoContent'\r\n\r\nconst PreloadContent = ({ isLoading, noContent, noContentFiller, clearContent = false, children }) => {\r\n\r\n  if (isLoading) {\r\n    return clearContent\r\n      ? <LoadingIcon />\r\n      : <Loading />\r\n  }\r\n\r\n  if (noContent) {\r\n    return clearContent\r\n      ? noContentFiller\r\n      : <NoContent>{noContentFiller}</NoContent>\r\n  }\r\n\r\n  return children\r\n}\r\n\r\nexport default PreloadContent","export const notNull = e => v => {\r\n  return v ? undefined : e\r\n}\r\n\r\nexport const maxLength = length => v => {\r\n  return v && v.length > length ? `MAX LENGTH IS ${length} SYMBOLS` : undefined\r\n}","import React from 'react'\r\nimport Loading from 'components/Common/Loading/Loading'\r\n\r\nconst withSuspense = (Component) => {\r\n  return (props) => (\r\n    <React.Suspense fallback={<Loading/>}><Component {...props}/></React.Suspense>\r\n  )\r\n}\r\n\r\nexport default withSuspense"],"sourceRoot":""}