{"version":3,"sources":["components/Users/User/User.module.css","components/Users/Users.module.css","components/Users/User/User.jsx","components/Users/Users.jsx","selectors/users-selectors.js","selectors/friends-selector.js","selectors/follow-selector.js","components/Users/UsersContainer.jsx"],"names":["module","exports","css","g_css","l_css","clickHandler","e","callBack","preventDefault","param","UserInfo","props","className","user_info_container","to","id","name","location","country","city","status","no_status","UserSettings","isFriend","friendsList","includes","f_iSLoading","friendIsFetching","is_I_Follow","followList","i_f_iSLoading","followIsFetching","user_settings_container","default_a","click","setFollowTo","isLoading","isOn","onContent","offContent","setFriendTo","href","onClick","FetchingA","classNM","handling","selected","content","UserSettingsFiller","style","background","opacity","User","isAuth","useAuth","photos","userProps","block","user","Avatar","havePH","small","size","UserList","totalUsers","users","passProps","map","key","UploadButton","isActive","setPageToNext","button","lb","ub","Users","canUploadMore","page","limit","content_wrapper","getTotalUsers","state","getIsLoading","getUsers","getUsersLimit","getUsersPage","getFriendsList","friends","getTotalFriends","totalFriends","getFriendIsFetching","getFollowList","follow","getTotalFollow","totalFollow","getFollowIsFetching","mapDispatchToProps","resetPage","getUsersAPI","updateUsersAPI","setFollowToAPI","setFriendToAPI","cancelUsersAPI","connect","US_SL","FR_SL","FW_SL","useEffect","PreloadContent","noContent","noContentFiller"],"mappings":"+FACAA,EAAOC,QAAU,CAAC,KAAO,mBAAmB,oBAAsB,kCAAkC,UAAY,wBAAwB,wBAA0B,sCAAsC,SAAW,uBAAuB,SAAW,uBAAuB,KAAO,qB,oBCAnRD,EAAOC,QAAU,CAAC,gBAAkB,+BAA+B,GAAK,kBAAkB,GAAK,kBAAkB,gBAAkB,iC,6ICU7HC,EAAG,2BAAOC,KAAUC,KAEpBC,EAAe,SAACC,GAAmC,IAAhCC,EAA+B,wDACtDD,EAAEE,iBADoD,2BAAVC,EAAU,iCAAVA,EAAU,kBAElDF,GACFA,EAAQ,WAAR,EAAYE,IAqBVC,EAAW,SAACC,GAChB,OACE,yBAAKC,UAAWV,EAAIW,qBAClB,kBAAC,IAAD,CAASC,GAAE,mBAAcH,EAAMI,KAC7B,2BAAIJ,EAAMK,KAAV,MAAmBL,EAAMI,KAE3B,2BAAIJ,EAAMM,SAASC,QAAnB,MAA+BP,EAAMM,SAASE,MAC9C,2BAAIR,EAAMS,QAAU,uBAAGR,UAAWV,EAAImB,WAAlB,gBAKpBC,EAAe,SAACX,GAEpB,IAAMI,EAAKJ,EAAMI,GACXQ,EAAWZ,EAAMa,YAAYC,SAASV,GACtCW,EAAcf,EAAMgB,iBAAiBF,SAASV,GAE9Ca,EAAcjB,EAAMkB,WAAWJ,SAASV,GACxCe,EAAgBnB,EAAMoB,iBAAiBN,SAASV,GAEtD,OACE,yBAAKH,UAAS,UAAKV,EAAI8B,wBAAT,YAAoC9B,EAAI+B,YACpD,kBAAC,EAAD,CACEC,MAAO,SAAC5B,GAAD,OAAOD,EAAaC,EAAGK,EAAMwB,YAAapB,GAAKa,IACtDQ,UAAWN,EACXO,KAAMT,EACNU,UAAU,YACVC,WAAW,WAGb,kBAAC,EAAD,CACEL,MAAO,SAAC5B,GAAD,OAAOD,EAAaC,EAAGK,EAAM6B,YAAazB,GAAKQ,IACtDa,UAAWV,EACXW,KAAMd,EACNe,UAAU,YACVC,WAAW,kBAGb,uBAAGE,KAAK,KAAKC,QAASrC,GAAtB,kBAKAsC,EAAY,SAAC,GAAqD,IAApDT,EAAmD,EAAnDA,MAAOE,EAA4C,EAA5CA,UAAWC,EAAiC,EAAjCA,KAAMC,EAA2B,EAA3BA,UAAWC,EAAgB,EAAhBA,WAE/CG,EAAUN,EAAY/B,EAAe6B,EACrCU,EAAUR,EAAYlC,EAAI2C,SAAWR,EAAOnC,EAAI4C,SAAW,KAC3DC,EAAUV,EAAOC,EAAYC,EAEjC,OAAO,uBAAGE,KAAK,KAAKC,QAASA,EAAS9B,UAAWgC,GAAUG,IAGzDC,EAAqB,WACzB,OACE,yBAAKpC,UAAS,UAAKV,EAAI8B,wBAAT,YAAoC9B,EAAI+B,WACjDgB,MAAO,CAACC,WAAY,cAAeC,QAAS,SAItCC,EA9EF,SAACzC,GAAW,IAEf0C,EAAWC,cAAXD,OACAtC,EAAqDJ,EAArDI,GAAIwC,EAAiD5C,EAAjD4C,OAAQvC,EAAyCL,EAAzCK,KAAMC,EAAmCN,EAAnCM,SAAUG,EAAyBT,EAAzBS,OAAWoC,EAHzB,YAGuC7C,EAHvC,4CAKtB,OACE,yBAAKC,UAAS,UAAKV,EAAIuD,MAAT,YAAkBvD,EAAIwD,OAClC,kBAACC,EAAA,EAAD,CAAQ5C,GAAIA,EAAI6C,OAAQL,EAAOM,MAAOC,KAAM,WAC5C,kBAAC,EAAD,CAAU/C,GAAIA,EAAIC,KAAMA,EAAMC,SAAUA,EAAUG,OAAQA,IAExDiC,EACI,kBAAC,EAAD,eAActC,GAAIA,GAAQyC,IAC1B,kBAAC,EAAD,Q,kBCxBNtD,EAAG,2BAAOC,KAAUC,KAmBpB2D,EAAW,SAACpD,GAChB,GAAIA,EAAMqD,WAAY,CAAC,IACdC,EAAuBtD,EAAvBsD,MAAUC,EADG,YACUvD,EADV,WAEpB,OAAOsD,EAAME,KAAI,SAAAT,GAAI,OAAI,kBAAC,EAAD,eAAMU,IAAKV,EAAK3C,IAAQmD,EAAeR,OAGlE,OAAO,MAGHW,EAAe,SAAC,GAA4C,IAA1CjC,EAAyC,EAAzCA,UAAWkC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,cAC3C,OAAInC,EACK,yBAAKxB,UAAS,UAAKV,EAAIsE,OAAT,YAAmBtE,EAAIuE,KAArC,cAGLH,EACK,yBAAK1D,UAAS,UAAKV,EAAIsE,OAAT,YAAmBtE,EAAIwE,IAAMhC,QAAS6B,GAApD,eAGF,MAGMI,EAtCD,SAAChE,GAAW,IAEhByB,EAA2CzB,EAA3CyB,UAAWmC,EAAgC5D,EAAhC4D,cAAkBf,EAFd,YAE4B7C,EAF5B,+BAGjBiE,EAAiBjE,EAAMkE,KAAOlE,EAAMmE,MAAQnE,EAAMmE,MAASnE,EAAMqD,WAEvE,OACE,yBAAKpD,UAAWV,EAAI6E,iBAClB,kBAAC,EAAavB,GACd,kBAAC,EAAD,CACEpB,UAAgC,IAArBzB,EAAMqD,YAAoB5B,EACrCkC,SAAgC,IAArB3D,EAAMqD,aAAqB5B,GAAawC,EACnDL,cAAeA,M,iCCpBVS,EAAgB,SAACC,GAAD,OAAWA,EAAMhB,MAAMD,YACvCkB,EAAe,SAACD,GAAD,OAAWA,EAAMhB,MAAM7B,WACtC+C,EAAW,SAACF,GAAD,OAAWA,EAAMhB,MAAMA,OAClCmB,EAAgB,SAACH,GAAD,OAAWA,EAAMhB,MAAMa,OACvCO,EAAe,SAACJ,GAAD,OAAWA,EAAMhB,MAAMY,MCJtCS,EAAiB,SAACL,GAAD,OAAWA,EAAMM,QAAQ/D,aAC1CgE,EAAkB,SAACP,GAAD,OAAWA,EAAMM,QAAQE,cAC3CC,EAAsB,SAACT,GAAD,OAAWA,EAAMM,QAAQ5D,kBCF/CgE,EAAgB,SAACV,GAAD,OAAWA,EAAMW,OAAO/D,YACxCgE,EAAiB,SAACZ,GAAD,OAAWA,EAAMW,OAAOE,aACzCC,EAAsB,SAACd,GAAD,OAAWA,EAAMW,OAAO7D,kBCiErDiE,EAAqB,CACzBC,cACA1B,kBACA2B,gBACAC,mBACAC,mBACAC,mBACAC,oBAGaC,uBA1BS,SAACtB,GAAD,MAAY,CAClCjB,WAAYwC,EAAoBvB,GAChC7C,UAAWoE,EAAmBvB,GAC9BhB,MAAOuC,EAAevB,GACtBH,MAAO0B,EAAoBvB,GAC3BJ,KAAM2B,EAAmBvB,GAEzBzD,YAAaiF,EAAqBxB,GAClCQ,aAAcgB,EAAsBxB,GACpCtD,iBAAkB8E,EAA0BxB,GAE5CpD,WAAY6E,EAAoBzB,GAChCa,YAAaY,EAAqBzB,GAClClD,iBAAkB2E,EAA0BzB,MAaNe,EAAzBO,EA9DE,SAAC5F,GAAU,IAGlBkE,EAAgBlE,EAAhBkE,KAAMC,EAAUnE,EAAVmE,MACNb,EAAqCtD,EAArCsD,MAAOwB,EAA8B9E,EAA9B8E,aAAcK,EAAgBnF,EAAhBmF,YACrBI,EAA2DvF,EAA3DuF,YAAaC,EAA8CxF,EAA9CwF,eAAgBG,EAA8B3F,EAA9B2F,eAAgBL,EAActF,EAAdsF,UAgBrD,OAbAU,qBAAU,WACK,IAAT9B,EAAYqB,EAAYrB,EAAMC,GAC7BqB,EAAetB,EAAMC,KACzB,CAACD,EAAMC,EAAOoB,EAAaC,IAE9BQ,qBAAU,WACR,OAAO,WACLL,IACAL,OAED,CAACK,EAAgBL,IAIlB,kBAACW,EAAA,EAAD,CACExE,UAAqB,OAAV6B,GAAmC,OAAjBwB,GAAyC,OAAhBK,EACtDe,WAA2B,IAAhBlG,EAAMsD,MACjB6C,gBAAiB,kBAEjB,kBAAC,EAAD,eACEtE,YAAa7B,EAAM0F,eACnBlE,YAAaxB,EAAMyF,gBACfzF","file":"static/js/6.7cc0b7b7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__4mMfO\",\"user_info_container\":\"User_user_info_container__1psho\",\"no_status\":\"User_no_status__2Qwff\",\"user_settings_container\":\"User_user_settings_container__2bEbe\",\"selected\":\"User_selected__1mAEL\",\"handling\":\"User_handling__VYQpR\",\"dots\":\"User_dots__1A4Uw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content_wrapper\":\"Users_content_wrapper__2ZKCr\",\"ub\":\"Users_ub__2WJv_\",\"lb\":\"Users_lb__3BRjZ\",\"loading_wrapper\":\"Users_loading_wrapper__1rpUc\"};","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport Avatar from 'components/Common/Avatar/Avatar'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './User.module.css'\r\n\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst clickHandler = (e, callBack = false, ...param) => {\r\n  e.preventDefault()\r\n  if (callBack)\r\n    callBack(...param)\r\n}\r\n\r\nconst User = (props) => {\r\n\r\n  const { isAuth } = useAuth()\r\n  const { id, photos, name, location, status, ...userProps } = props\r\n\r\n  return (\r\n    <div className={`${css.block} ${css.user}`}>\r\n      <Avatar id={id} havePH={photos.small} size={'medium'}/>\r\n      <UserInfo id={id} name={name} location={location} status={status}/>\r\n      {\r\n        isAuth\r\n          ? <UserSettings id={id} {...userProps}/>\r\n          : <UserSettingsFiller/>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UserInfo = (props) => {\r\n  return (\r\n    <div className={css.user_info_container}>\r\n      <NavLink to={`/profile/${props.id}`}>\r\n        <b>{props.name} : {props.id}</b>\r\n      </NavLink>\r\n      <u>{props.location.country} : {props.location.city}</u>\r\n      <p>{props.status || <i className={css.no_status}>no status</i>}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UserSettings = (props) => {\r\n\r\n  const id = props.id\r\n  const isFriend = props.friendsList.includes(id)\r\n  const f_iSLoading = props.friendIsFetching.includes(id)\r\n\r\n  const is_I_Follow = props.followList.includes(id)\r\n  const i_f_iSLoading = props.followIsFetching.includes(id)\r\n\r\n  return (\r\n    <div className={`${css.user_settings_container} ${css.default_a}`}>\r\n      <FetchingA\r\n        click={(e) => clickHandler(e, props.setFollowTo, id, !is_I_Follow)}\r\n        isLoading={i_f_iSLoading}\r\n        isOn={is_I_Follow}\r\n        onContent='un-follow'\r\n        offContent='follow'\r\n      />\r\n\r\n      <FetchingA\r\n        click={(e) => clickHandler(e, props.setFriendTo, id, !isFriend)}\r\n        isLoading={f_iSLoading}\r\n        isOn={isFriend}\r\n        onContent='un-friend'\r\n        offContent='set as friend'\r\n      />\r\n\r\n      <a href='/#' onClick={clickHandler}>send message</a>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst FetchingA = ({click, isLoading, isOn, onContent, offContent}) => {\r\n\r\n  const onClick = isLoading ? clickHandler : click,\r\n        classNM = isLoading ? css.handling : isOn ? css.selected : null,\r\n        content = isOn ? onContent : offContent\r\n\r\n    return <a href='/#' onClick={onClick} className={classNM}>{content}</a>\r\n}\r\n\r\nconst UserSettingsFiller = () => {\r\n  return (\r\n    <div className={`${css.user_settings_container} ${css.default_a}`}\r\n         style={{background: 'var(--gray)', opacity: '.5'}}/>\r\n  )\r\n}\r\n\r\nexport default User","import React from 'react'\r\n\r\nimport User from './User/User'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Users.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Users = (props) => {\r\n\r\n  const { isLoading, setPageToNext, ...userProps } = props\r\n  const canUploadMore = (props.page * props.limit + props.limit) < props.totalUsers\r\n\r\n  return (\r\n    <div className={css.content_wrapper}>\r\n      <UserList {...userProps}/>\r\n      <UploadButton\r\n        isLoading={props.totalUsers !== 0 && isLoading}\r\n        isActive= {props.totalUsers !== 0 && !isLoading && canUploadMore}\r\n        setPageToNext={setPageToNext}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UserList = (props) => {\r\n  if (props.totalUsers) {\r\n    const {users, ...passProps} = props;\r\n    return users.map(user => <User key={user.id} {...passProps} {...user} />)\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nconst UploadButton = ({ isLoading, isActive, setPageToNext }) => {\r\n  if (isLoading) {\r\n    return <div className={`${css.button} ${css.lb}`}>LOADING...</div>\r\n  }\r\n\r\n  if (isActive) {\r\n    return <div className={`${css.button} ${css.ub}`} onClick={setPageToNext}>UPLOAD MORE</div>\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nexport default Users","export const getTotalUsers = (state) => state.users.totalUsers\r\nexport const getIsLoading = (state) => state.users.isLoading\r\nexport const getUsers = (state) => state.users.users\r\nexport const getUsersLimit = (state) => state.users.limit\r\nexport const getUsersPage = (state) => state.users.page","export const getFriendsList = (state) => state.friends.friendsList\r\nexport const getTotalFriends = (state) => state.friends.totalFriends\r\nexport const getFriendIsFetching = (state) => state.friends.friendIsFetching\r\n","export const getFollowList = (state) => state.follow.followList\r\nexport const getTotalFollow = (state) => state.follow.totalFollow\r\nexport const getFollowIsFetching = (state) => state.follow.followIsFetching","import React, {useEffect} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Users from './Users'\r\nimport PreloadContent from 'components/Common/PreloadContent/PreloadContent'\r\n\r\nimport {setFriendToAPI} from 'redux/friends-reducer'\r\nimport {setFollowToAPI} from 'redux/follow-reducer'\r\nimport {resetPage, setPageToNext, getUsersAPI, updateUsersAPI, cancelUsersAPI}\r\n  from 'redux/users-reducer'\r\n\r\nimport * as US_SL from 'selectors/users-selectors'\r\nimport * as FR_SL from 'selectors/friends-selector'\r\nimport * as FW_SL from 'selectors/follow-selector'\r\n\r\nconst UsersAPI = (props) => {\r\n\r\n  // var\r\n  const { page, limit } = props\r\n  const { users, totalFriends, totalFollow } = props\r\n  const { getUsersAPI, updateUsersAPI, cancelUsersAPI, resetPage } = props\r\n\r\n  // effects\r\n  useEffect(() => {\r\n    if (page === 0) getUsersAPI(page, limit)  // load first page\r\n    else updateUsersAPI(page, limit)          // upload more pages\r\n  }, [page, limit, getUsersAPI, updateUsersAPI])\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      cancelUsersAPI()\r\n      resetPage()\r\n    }\r\n  }, [cancelUsersAPI, resetPage])\r\n\r\n  // render\r\n  return (\r\n    <PreloadContent\r\n      isLoading={users === null || totalFriends === null || totalFollow === null}\r\n      noContent={props.users === false}\r\n      noContentFiller={'no users found'}\r\n    >\r\n      <Users\r\n        setFriendTo={props.setFriendToAPI}\r\n        setFollowTo={props.setFollowToAPI}\r\n        {...props}\r\n      />\r\n    </PreloadContent>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  totalUsers: US_SL.getTotalUsers(state),\r\n  isLoading: US_SL.getIsLoading(state),\r\n  users: US_SL.getUsers(state),\r\n  limit: US_SL.getUsersLimit(state),\r\n  page: US_SL.getUsersPage(state),\r\n\r\n  friendsList: FR_SL.getFriendsList(state),\r\n  totalFriends: FR_SL.getTotalFriends(state),\r\n  friendIsFetching: FR_SL.getFriendIsFetching(state),\r\n\r\n  followList: FW_SL.getFollowList(state),\r\n  totalFollow: FW_SL.getTotalFollow(state),\r\n  followIsFetching: FW_SL.getFollowIsFetching(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  resetPage,\r\n  setPageToNext,\r\n  getUsersAPI,\r\n  updateUsersAPI,\r\n  setFollowToAPI,\r\n  setFriendToAPI,\r\n  cancelUsersAPI\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersAPI)"],"sourceRoot":""}