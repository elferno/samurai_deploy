{"version":3,"sources":["redux/profile-reducer.js","redux/dialogs-reducer.js","redux/users-reducer.js","api/api.js","components/Common/Loading/Loading.module.css","assets/images/no_avatar.png","components/Header/UserMenu/UserMenu.module.css","components/Header/Header.module.css","components/Common/LoginBlock/Login.module.css","components/NavBar/NavBar.module.css","components/UsersSearch/UsersSearch.module.css","components/FriendsBar/Friend/Friend.module.css","assets/images/advBanner_0.png","assets/images/advBanner_1.png","components/Hello/Hello.module.css","components/Common/GlobalLoading/GlobalLoading.module.css","selectors/auth-selectors.js","Context/AuthContext.jsx","redux/app-reducer.js","redux/redux-store.js","components/Header/UserMenu/UserMenu.jsx","components/Header/Header.jsx","components/Common/LoginBlock/Login.jsx","components/NavBar/NavBar.jsx","components/UsersSearch/UsersSearch.jsx","components/FriendsBar/Friend/Friend.jsx","components/Common/AdvBar/AdvBar.jsx","components/FriendsBar/FriendsBar.jsx","components/FriendsBar/FriendsBarContainer.jsx","components/Hello/Hello.jsx","components/Common/GlobalLoading/GlobalLoading.jsx","App.js","serviceWorker.js","index.js","redux/friends-reducer.js","redux/auth-reducer.js","components/Common/Loading/Loading.jsx","App.module.css","components/Common/Avatar/Avatar.jsx","components/Common/FormFields/index.jsx","redux/follow-reducer.js","HOC/withSuspense.jsx","utils/validators.js","components/Common/NoContent/NoContent.jsx","components/Common/PreloadContent/PreloadContent.jsx"],"names":["ADD_POST","initialState","posts","id","likes","message","info","currentID","saving","resetPage","type","setProfile","setSavingProfile","addPost","formData","formName","dispatch","text","reset","setProfileAPI","setCurrentId","API_profile","then","data","saveProfileAPI","callback","saveProfile","userInfo","setTimeout","cancelProfileAPI","cancelSetProfile","cancelSaveProfile","profileReducer","state","action","concat","length","split","map","i","key","messages","contacts","name","active","addMessage","dialogsReducer","users","page","limit","totalUsers","isLoading","setPageToNext","getUsersAPI","API_users","getUsers","Object","values","setFriendsList","friendsList","totalFriends","setFollowList","followList","totalFollow","updateUsersAPI","cancelUsersAPI","cancelGetUsers","userReducer","user","userId","followed","xml","axios","create","baseURL","withCredentials","responseType","cancelled","th","isCancel","createToken","CancelToken","f","API_auth","auth","get","response","login","pass","stay","logout","cancelToken","catch","method","url","API_friends","setFriendTo","console","log","API_follow","setFollowTo","module","exports","getAuth","AuthContext","React","createContext","useAuth","useContext","mapDispatchToProps","setLoginError","loginAPI","logoutAPI","AuthProvider","connect","AU_SL","children","props","isAuth","fetching","Provider","value","initialized","appReducer","reducers","combineReducers","friends","friendsReducer","profile","dialogs","follow","followReducer","usersReducer","authReducer","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","css","g_css","l_css","UserMenu","userID","havePH","className","user_menu","to","userName","Avatar","size","shadow","href","onClick","e","preventDefault","Header","header","wrapper","src","alt","validate","notNull","reduxForm","error","cc","cc_column","button","accept_error","onSubmit","handleSubmit","Field","label","component","InputText","settings","InputCheck","login_button","act","active_link","NavBar","bar","block","default_a","PreloadContent","noContent","noContentFiller","lg","clearContent","container","exact","offset","UsersSearch","activeClassName","Friend","friend","banners","advBanner_0","advBanner_1","styles","display","height","AdvBar","style","FriendList","Links","tFR","tFS","tFL","num_label","FriendsBar","totalFollowers","left_bar","left_offset","FriendsBarContainer","friendsBar","Hello","hello","GlobalLoading","cover","cover_hide","Loading","ProfileContainer","lazy","Dialogs","UsersContainer","Content","content","path","render","withSuspense","initAppAPI","a","authAPI","useEffect","Boolean","location","hostname","match","document","getElementById","navigator","serviceWorker","ready","registration","unregister","friendIsFetching","setFriendsBar","toggleFriendFetching","setFriendToAPI","makeFriend","body","JSON","stringify","friendId","uid","includes","filter","setAuth","setFetchingAuth","errorCode","stopSubmit","_error","LoadingIcon","role","dot","before_content","hide_a_sec","sizeToClass","a_z","a_s","a_m","a_l","noImageSRC","avatar","shadow_inset","TextArea","input","meta","hasError","touched","field_error","field_error_box","extraClass","input_text","input_checkbox","htmlFor","followIsFetching","toggleFollowFetching","setFollowToAPI","makeFollow","followId","Component","Suspense","fallback","v","undefined","maxLength","NoContent"],"mappings":"yUAMEA,EAAW,mBAQPC,EAAe,CACnBC,MAAO,CACL,CAACC,GAAI,EAAGC,MAAO,EAAGC,QAAQ,aAC1B,CAACF,GAAI,EAAGC,MAAO,GAAIC,QAAQ,uBAG7BC,KAAM,KACNC,UAAW,KAIXC,QAAQ,GAiDGC,EAAY,iBAAO,CAACC,KAnElB,uBAoEFC,EAAa,SAACL,GAAD,MAAW,CAACI,KAnEtB,sBAmEyCJ,SAE5CM,EAAmB,SAACJ,GAAD,MAAa,CAACE,KAnEvB,6BAmEiDF,WAI3DK,EAAU,SAACC,EAAUC,GAAX,OAAwB,SAACC,GARvB,IAACC,EASxBD,EAASE,YAAMH,IACfC,GAVwBC,EAULH,EAASG,KAVM,CAACP,KAAMV,EAAUiB,YAaxCE,EAAgB,SAAChB,GAAD,OAAQ,SAACa,GAEpCA,EAZ0B,SAACb,GAAD,MAAS,CAACO,KAnEnB,yBAmEyCP,MAYjDiB,CAAajB,IAEtBkB,IAAYV,WAAWR,GACpBmB,MAAK,SAAAC,GACAA,GACFP,EAASL,EAAWY,EAAKjB,YAMpBkB,EAAiB,SAACD,EAAME,GAAP,OAAoB,SAACT,GAEjDA,EAASJ,GAAiB,IAE1BS,IAAYK,YAAY,QAASH,GAC9BD,MAAK,SAAAC,GACAA,IACFP,EAASL,EAAWY,EAAKjB,OACzBmB,EAASF,EAAKjB,KAAKqB,WAErBC,YAAW,kBAAMZ,EAASJ,GAAiB,MAAS,UAI7CiB,EAAmB,kBAAM,WACpCR,IAAYS,mBACZT,IAAYU,sBAICC,IA3FQ,WAAmC,IAAlCC,EAAiC,uDAAzBhC,EAAciC,EAAW,uCAEvD,OAAQA,EAAOxB,MAEb,KAAKV,EACH,OAAO,2BACFiC,GADL,IAEE/B,MAAO,YAAI+B,EAAM/B,OAAOiC,OAAO,CAC7BhC,GAAI8B,EAAM/B,MAAMkC,OAChBhC,MAAO,EACPC,QAAS6B,EAAOjB,KACboB,MAAM,MACNC,KAAI,SAACrB,EAAMsB,GAAP,OAAa,uBAAGC,IAAKD,GAAItB,UAItC,IApCY,sBAqCV,OAAO,2BACFgB,GADL,IAEE3B,KAAM4B,EAAO5B,OAGjB,IAzCe,yBA0Cb,OAAO,2BACF2B,GADL,IAEE1B,UAAW2B,EAAO/B,KAGtB,IAjDW,qBAkDT,OAAO,eACFF,GAGP,IAnDmB,6BAoDjB,OAAO,2BACFgC,GADL,IAEEzB,OAAQ0B,EAAO1B,SAGnB,QACE,OAAOyB,K,8GC5DPhC,EAAe,CACnBwC,SAAU,CACR,CAACtC,GAAI,EAAGc,KAAM,cACd,CAACd,GAAI,EAAGc,KAAM,cACd,CAACd,GAAI,EAAGc,KAAM,eAGhByB,SAAU,CACR,CAACvC,GAAI,EAAGwC,KAAM,SAAUC,QAAQ,GAChC,CAACzC,GAAI,EAAGwC,KAAM,UACd,CAACxC,GAAI,EAAGwC,KAAM,SACd,CAACxC,GAAI,EAAGwC,KAAM,OACd,CAACxC,GAAI,EAAGwC,KAAM,OACd,CAACxC,GAAI,EAAGwC,KAAM,UA0BLE,EAAa,SAAC/B,EAAUC,GAAX,OAAwB,SAACC,GACjDA,EAASE,YAAMH,IACfC,EAJ8B,CAACN,KAzCjB,sBAyCoCO,KAI5BH,EAASG,SAGlB6B,IA3BQ,WAAmC,IAAlCb,EAAiC,uDAAzBhC,EAAciC,EAAW,uCAEvD,OAAQA,EAAOxB,MAEb,IAzBY,sBA0BV,OAAO,2BACFuB,GADL,IAEEQ,SAAU,YAAIR,EAAMQ,UAAUN,OAAO,CACnChC,GAAI8B,EAAMQ,SAASL,OACnBnB,KAAMiB,EAAOjB,KACVoB,MAAM,MACNC,KAAI,SAACrB,EAAMsB,GAAP,OAAa,uBAAGC,IAAKD,GAAItB,UAItC,QACE,OAAOgB,K,sPCxBPhC,EAAe,CACnB8C,MAAO,KAEPC,KAAM,EACNC,MAAO,EACPC,WAAY,EACZC,WAAW,GAoDN,IAAMC,EAAgB,iBAAO,CAAC1C,KA7DhB,2BA8DRD,EAAY,iBAAO,CAACC,KAnElB,qBA8EF2C,EAAc,SAACL,EAAMC,GAAP,OAAiB,SAACjC,GAC3CsC,IAAUC,SAASP,EAAMC,GACtB3B,MAAK,SAAAC,GAZc,IAACwB,EAafxB,IACFP,GAdiB+B,EAcCxB,EAAKwB,MAdiB,CAC9CrC,KApEY,kBAqEZwC,WAYoC3B,EAAK2B,WAXzCH,MAAOS,OAAOC,OAAOV,MAYf/B,EAAS0C,YAAenC,EAAKoC,YAAapC,EAAKqC,eAC/C5C,EAAS6C,YAActC,EAAKuC,WAAYvC,EAAKwC,oBAKxCC,EAAiB,SAAChB,EAAMC,GAAP,OAAiB,SAACjC,GAC9CA,EAhBoC,CAACN,KAvEjB,yBAyFpB4C,IAAUC,SAASP,EAAMC,GACtB3B,MAAK,SAAAC,GApBiB,IAACwB,EAqBlBxB,IACFP,GAtBoB+B,EAsBCxB,EAAKwB,MAtBK,CAACrC,KAvEvB,qBAuE2CqC,MAAOS,OAAOC,OAAOV,MAuBzE/B,EAtB8B,CAACN,KAvEjB,+BAkGTuD,EAAiB,kBAAM,WAClCX,IAAUY,mBAGGC,IAxFf,WAAoD,IAA/BlC,EAA8B,uDAAtBhC,EAAciC,EAAQ,uCAEjD,OAAQA,EAAOxB,MACb,IAhBc,2BAiBZ,OAAO,2BACFuB,GADL,IAEEc,MAAOd,EAAMc,MAAMT,KAAI,SAAA8B,GAAI,OACzBA,EAAKjE,KAAO+B,EAAOmC,OAAnB,2BACQD,GADR,IACcE,UAAWF,EAAKE,WAC1BF,OAIV,IAzBiB,yBA0Bf,OAAO,2BACFnC,GADL,IAEEe,KAAMf,EAAMe,KAAO,IAGvB,IApCW,mBAqCT,OAAO,eACF/C,GAGP,IAxCU,kBAyCR,OAAO,2BACFgC,GADL,IAEEc,MAAOb,EAAOa,MACdG,WAAYhB,EAAOgB,aAGvB,IA9Ca,qBA+CX,OAAO,2BACFjB,GADL,IAEEc,MAAO,YAAId,EAAMc,OAAOZ,OAAOD,EAAOa,SAG1C,IAnDkB,uBAoDhB,OAAO,2BACFd,GADL,IAEEkB,WAAYlB,EAAMkB,YAGtB,QACE,OAAOlB,K,gCCtEb,+LAEMsC,EAAMC,IAAMC,OAAO,CACvBC,QAAS,0BACTC,gBAAiB,UACjBC,aAAc,SAGVC,EAAY,SAACC,GACjB,OAAQN,IAAMO,SAASD,IAGnBE,EAAc,SAACvD,GACnB,OAAO,IAAI+C,IAAMS,aAAY,SAAAC,GAAC,OAAIzD,EAASyD,OAGhCC,EAAW,CACtBC,KADsB,WAEpB,OAAOb,EAAIc,IAAI,YACZ/D,MAAK,SAAAgE,GAAQ,OAAIA,EAAS/D,SAG/BgE,MANsB,SAMhBA,EAAOC,EAAMC,GACjB,OAAOlB,EAAIc,IAAJ,yBAA0BE,EAA1B,iBAAwCC,EAAxC,iBAAqDC,IACzDnE,MAAK,SAAAgE,GAAQ,OAAIA,EAAS/D,SAG/BmE,OAXsB,WAYpB,OAAOnB,EAAIc,IAAI,mBAINhE,EAAc,CACzBV,WADyB,SACdR,GAAK,IAAD,OAEPwF,EAAcX,GAAY,SAAAE,GAAC,OAAI,EAAKpD,iBAAmBoD,KAE7D,OAAOX,EAAIc,IAAJ,yBAA0BlF,GAAM,CAACwF,gBACrCrE,MAAK,SAAAgE,GAAQ,OAAIA,EAAS/D,QAC1BqE,OAAM,SAAAd,GAAE,OAAID,EAAUC,OACxBhD,iBARsB,aAUzBJ,YAVyB,SAUbmE,EAAQtE,GAAO,IAAD,OAElBoE,EAAcX,GAAY,SAAAE,GAAC,OAAI,EAAKnD,kBAAoBmD,KAE9D,OAAOX,EAAI,cAAe,CAACsB,SAAQtE,OAAMoE,gBACtCrE,MAAK,SAAAgE,GAAQ,OAAIA,EAAS/D,QAC1BqE,OAAM,SAAAd,GAAE,OAAID,EAAUC,OACxB/C,kBAjBsB,cAqBduB,EAAY,CACvBC,SADuB,SACdP,EAAMC,GAAQ,IAAD,OAEd6C,EAAG,yBAAqB9C,EAArB,kBAAmCC,GACtC0C,EAAcX,GAAY,SAAAE,GAAC,OAAI,EAAKhB,eAAiBgB,KAE3D,OAAOX,EAAIc,IAAIS,EAAK,CAAEH,gBACnBrE,MAAK,SAAAgE,GAAQ,OAAIA,EAAS/D,QAC1BqE,OAAM,SAAAd,GAAE,OAAID,EAAUC,OACxBZ,eAToB,cAaZ6B,EAAc,CACzBC,YADyB,SACbH,EAAQtE,GAIlB,OAFA0E,QAAQC,IAAIL,EAAQtE,GAEbgD,EAAI,cAAe,CAACsB,SAAQtE,SAChCD,MAAK,SAAAgE,GAAQ,OAAIA,EAAS/D,UAKpB4E,EAAa,CACxBC,YADwB,SACZP,EAAQtE,GAClB,OAAOgD,EAAI,aAAc,CAACsB,SAAQtE,SAC/BD,MAAK,SAAAgE,GAAQ,OAAIA,EAAS/D,W,oBC/EjC8E,EAAOC,QAAU,CAAC,QAAU,yBAAyB,IAAM,qBAAqB,WAAW,0BAA0B,WAAW,0BAA0B,WAAW,4B,kBCDrKD,EAAOC,QAAU,83R,oBCCjBD,EAAOC,QAAU,CAAC,UAAY,4BAA4B,OAAS,2B,oBCAnED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,0B,oBCA5DD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,aAAe,4BAA4B,aAAe,8B,oBCA/GD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,OAAS,uBAAuB,UAAY,4B,oBCAxFD,EAAOC,QAAU,CAAC,UAAY,iC,oBCA9BD,EAAOC,QAAU,CAAC,OAAS,yB,oBCD3BD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCC3CD,EAAOC,QAAU,CAAC,MAAQ,uB,oBCA1BD,EAAOC,QAAU,CAAC,MAAQ,6BAA6B,WAAa,oC,8KCDvDC,EAAU,SAACtE,GAAD,OAAWA,EAAMmD,M,QCMlCoB,EAAcC,IAAMC,cAAc,MAE3BC,EAAU,WACrB,OAAOC,qBAAWJ,IAsBdK,EAAqB,CACzBC,kBACAC,aACAC,eAGWC,EAAeC,aAVJ,SAAAjF,GAAK,MAAK,CAChCmD,KAAM+B,EAAclF,MAS+B4E,EAAzBK,EAzBL,SAAC,GAA0B,IAAzBE,EAAwB,EAAxBA,SAAaC,EAAW,4BACzCjC,EAAO,CACXA,KAAMiC,EAAMjC,KACZkC,OAAQD,EAAMjC,KAAKkC,OACnBC,SAAUF,EAAMjC,KAAKmC,SAErBhC,MAAO8B,EAAMN,SACbrB,OAAQ2B,EAAML,UACdF,cAAeO,EAAMP,eAGvB,OAAO,kBAACN,EAAYgB,SAAb,CAAsBC,MAAOrC,GAAOgC,O,6MCjBvCnH,EAAe,CACnByH,aAAa,GAsBAC,EAnBI,WAAmC,IAAlC1F,EAAiC,uDAAzBhC,EAAciC,EAAW,uCACnD,MATe,iBASXA,EAAOxB,KACF,2BAAIuB,GAAX,IAAkByF,aAAa,IAE1BzF,G,SCDH2F,EAAWC,YAAgB,CAC/BC,QAASC,IACTC,QAAShG,IACTiG,QAASnF,IACToF,OAAQC,IACRpF,MAAOqF,IACPhD,KAAMiD,IACNC,IAAKX,EACLY,KAAMC,MAGFC,EAAmBC,OAAOC,sCAAwCC,IAOzDC,EANDC,YAAYlB,EAAUa,EAClCM,YAAgBC,O,kECjBZC,EAAG,2BAAOC,KAAUC,KAkBXC,EAhBE,WAAO,IAAD,EACIzC,cAAjBvB,EADa,EACbA,KAAMM,EADO,EACPA,OAERvF,EAAKiF,EAAKzD,SAAS0H,OACnBC,EAASlE,EAAKzD,SAAS2H,OAG7B,OACE,yBAAKC,UAAWN,EAAIO,WAClB,kBAAC,IAAD,CAASC,GAAG,YAAYrE,EAAKzD,SAAS+H,UACtC,kBAACC,EAAA,EAAD,CAAQxJ,GAAIA,EAAImJ,OAAQA,EAAQM,KAAM,OAAQC,QAAQ,IACtD,uBAAGC,KAAK,KAAKP,UAAWN,EAAIvD,OAAQqE,QANnB,SAAAC,GAAOA,EAAEC,iBAAkBvE,MAM5C,U,kBCdAuD,EAAG,2BAAOC,KAAUC,KAgBXe,EAdA,WAAO,IAAD,EAEUvD,cAArBW,EAFW,EAEXA,OAAQC,EAFG,EAEHA,SAEhB,OACE,4BAAQgC,UAAS,UAAKN,EAAIkB,SACxB,yBAAKZ,UAAWN,EAAImB,SAClB,yBAAKC,IAAI,0CAA0CC,IAAI,KACrDhD,IAAWC,GAAY,kBAAC,EAAD,S,oDCT3B0B,EAAG,2BAAOC,KAAUC,KAEpBoB,EAAW,CACfhF,MAAO,CAACiF,YAAQ,gBAChBhF,KAAM,CAACgF,YAAQ,oBAmDFC,cAAU,CAAClC,KAAM,SAAjBkC,EAhDD,SAACpD,GACb,OAAIA,EAAMqD,MAEN,yBAAKnB,UAAS,UAAKN,EAAI0B,GAAT,YAAe1B,EAAI2B,YAC/B,6BAAMvD,EAAMqD,OACZ,yBACEnB,UAAS,UAAKN,EAAI4B,OAAT,YAAmB5B,EAAI6B,cAChCf,QAAS,kBAAM1C,EAAMP,cAAc,QAFrC,OAUJ,0BAAMiE,SAAU1D,EAAM2D,cAEpB,kBAACC,EAAA,EAAD,CACEtI,KAAK,QACLjC,KAAK,OACLwK,MAAM,QACNC,UAAWC,IACXb,SAAUA,EAAShF,QAGrB,kBAAC0F,EAAA,EAAD,CACEtI,KAAK,OACLjC,KAAK,WACLwK,MAAM,WACNC,UAAWC,IACXb,SAAUA,EAAS/E,OAGrB,yBAAK+D,UAAWN,EAAIoC,UAClB,kBAACJ,EAAA,EAAD,CACE9K,GAAG,OACHwC,KAAK,OACLjC,KAAK,WACLwK,MAAM,UACNC,UAAWG,MAGb,4BAAQ/B,UAAS,UAAKN,EAAI4B,OAAT,YAAmB5B,EAAIsC,eAAxC,c,0BC/CFtC,EAAG,2BAAOC,KAAUC,KACpBqC,EAAM,CAAC,gBAAmBvC,EAAIwC,aA+BrBC,GA7BA,WAAO,IAAD,EAEgC/E,cAA3CW,EAFW,EAEXA,OAAQC,EAFG,EAEHA,SAAUhC,EAFP,EAEOA,MAAOuB,EAFd,EAEcA,cAMjC,OACE,yBAAKyC,UAAS,UAAKN,EAAI0C,IAAT,YAAgB1C,EAAI2C,MAApB,YAA6B3C,EAAI4C,UAAjC,YAA8C5C,EAAI0B,GAAlD,YAAwD1B,EAAI2B,YACxE,kBAACkB,EAAA,EAAD,CACE3I,UAAsB,OAAXmE,GAAmBC,EAC9BwE,WAAsB,IAAXzE,EACX0E,gBAAiB,kBAAC,EAAD,CAAOjB,SAVb,SAAAjK,GAAa,IACdmL,EAAsBnL,EAA7ByE,MAAWC,EAAkB1E,EAAlB0E,KADS,EACS1E,EAAZ2E,KACxBF,EAAM0G,EAAIzG,QAFiB,MACI,EADJ,GAEJ,EAAI,IAQqBsB,cAAeA,IAC3DoF,cAAc,GAEd,yBAAK3C,UAAWN,EAAIkD,WAClB,kBAAC,IAAD,eAAS1C,GAAG,WAAW2C,OAAK,GAAKZ,GAAjC,WACA,kBAAC,IAAD,eAAS/B,GAAG,YAAe+B,GAA3B,WACA,kBAAC,IAAD,eAAS/B,GAAG,SAAY+B,GAAxB,QACA,kBAAC,IAAD,eAAS/B,GAAG,UAAa+B,GAAzB,SAEA,kBAAC,IAAD,eAAS/B,GAAG,YAAYF,UAAWN,EAAIoD,QAAYb,GAAnD,gB,qBC/BJvC,GAAG,2BAAOC,KAAUC,MAUXmD,GARK,WAClB,OACE,yBAAK/C,UAAS,UAAKN,GAAI2C,MAAT,YAAkB3C,GAAIkD,YAClC,kBAAC,IAAD,CAAS1C,GAAG,SAAS8C,gBAAiBtD,GAAIwC,aAA1C,e,qBCFAxC,GAAG,2BAAOC,KAAUC,MAcXqD,GAZA,SAAC,GAAwB,IAAvBrM,EAAsB,EAAtBA,GAAIwC,EAAkB,EAAlBA,KAAM2G,EAAY,EAAZA,OACzB,OACE,yBAAKC,UAAWN,GAAIwD,QAClB,kBAAC9C,EAAA,EAAD,CAAQxJ,GAAIA,EAAImJ,OAAQA,EAAQM,KAAM,SAEtC,kBAAC,IAAD,CAASH,GAAE,mBAActJ,IACvB,2BAAIwC,M,0CCXN+J,GAAU,CAACC,KAAaC,MACxBC,GAAS,CACb,CAAEC,QAAS,QAASC,OAAQ,QAC5B,CAAED,QAAS,QAASC,OAAQ,UAYfC,GATA,SAAC,GAAY,IAAV7M,EAAS,EAATA,GAEhB,OACE,uBAAG2J,KAAK,sBACN,yBAAKO,IAAKqC,GAAQvM,GAAK8M,MAAOJ,GAAO1M,GAAKmK,IAAI,OCqB9C4C,GAAa,SAAC,GAClB,OADgC,EAAbpF,QACJxF,KAAI,SAAAmK,GAAM,OAAI,kBAAC,GAAD,eAAQjK,IAAKiK,EAAOtM,IAAQsM,QAGrDU,GAAQ,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,IAAKC,EAAc,EAAdA,IAAKC,EAAS,EAATA,IACxB,OACE,oCACE,yBAAK/D,UAAWN,IAAIsE,WAClB,kBAAC,IAAD,CAAS9D,GAAG,WAAW8C,gBAAiBtD,IAAIwC,aAA5C,cACA,6BAAK,4BAAK2B,KAGZ,yBAAK7D,UAAWN,IAAIsE,WAClB,kBAAC,IAAD,CAAS9D,GAAG,aAAa8C,gBAAiBtD,IAAIwC,aAA9C,gBACA,6BAAK,4BAAK4B,KAGZ,yBAAK9D,UAAWN,IAAIsE,WAClB,kBAAC,IAAD,CAAS9D,GAAG,UAAU8C,gBAAiBtD,IAAIwC,aAA3C,YACA,6BAAK,4BAAK6B,OAOHE,GApDI,SAACnG,GAAW,IAErBC,EAAWX,cAAXW,OACA1D,EAAsDyD,EAAtDzD,aAHoB,EAGkCyD,EAAxCoG,sBAHM,MAGW,EAHX,IAGkCpG,EAApBtD,mBAHd,MAG4B,EAH5B,EAK5B,OACE,oCACE,2BAAOwF,UAAS,UAAKN,IAAI2C,MAAT,YAAkB3C,IAAIyE,WAElCpG,EACI,kBAAC,GAAD,CAAO8F,IAAKxJ,EAAcyJ,IAAKI,EAAgBH,IAAKvJ,IACpD,kBAAC,GAAD,CAAQ5D,GAAI,KAIpB,2BAAOoJ,UAAS,UAAKN,IAAI2C,MAAT,YAAkB3C,IAAI0E,cAElCtG,EAAMzD,aACF,kBAAC,GAAD,CAAYkE,QAAST,EAAMS,UAC3B,kBAAC,GAAD,CAAQ3H,GAAI,OCjBXyN,GAFa1G,aANJ,SAACjF,GAAD,MAAY,CAClC6F,QAAS7F,EAAM6F,QAAQ+F,WACvBjK,aAAc3B,EAAM6F,QAAQlE,aAC5BG,YAAa9B,EAAMiG,OAAOnE,eAGAmD,CAAyBsG,I,qBCL/CvE,GAAG,2BAAOC,KAAUC,MAYX2E,GAVD,WACZ,OACE,yBAAKvE,UAAS,UAAKN,GAAI2C,MAAT,YAAkB3C,GAAI0B,GAAtB,YAA4B1B,GAAI8E,QAC5C,mDACA,wEACA,mG,8BCNA9E,GAAG,2BAAOC,KAAUC,MAUX6E,GARO,SAAC,GAAqB,IAAnBtG,EAAkB,EAAlBA,YACvB,OACE,yBAAK6B,UAAS,UAAKN,GAAIgF,MAAT,YAAkBvG,EAAcuB,GAAIiF,WAAa,OAC7D,kBAACC,GAAA,EAAD,QCSAC,GAAmB3H,IAAM4H,MAAK,kBAClC,iCACIC,GAAU7H,IAAM4H,MAAK,kBACzB,iCACIE,GAAiB9H,IAAM4H,MAAK,kBAChC,iCAkBIG,GAAU,SAAC,GACf,OADiC,EAAjB9G,YAKd,kBAAC,IAAD,KACE,yBAAK6B,UAAWN,IAAImB,SAClB,kBAAC,EAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,yBAAKb,UAAWN,IAAIwF,SAClB,kBAAC,IAAD,CAAOC,KAAK,IAAItC,OAAK,EAACuC,OAAQ,kBAAM,kBAAC,GAAD,SACpC,kBAAC,IAAD,CAAOD,KAAK,gBAAgBC,OAAQC,YAAaR,MACjD,kBAAC,IAAD,CAAOM,KAAK,WAAWC,OAAQC,YAAaN,MAC5C,kBAAC,IAAD,CAAOI,KAAK,SAASC,OAAQC,YAAaL,MAC1C,kBAAC,IAAD,CAAOG,KAAK,UACZ,kBAAC,IAAD,CAAOA,KAAK,WACZ,kBAAC,IAAD,CAAOA,KAAK,iBAhBX,MAwBL7H,GAAqB,CAACgI,Wb/CF,yDAAM,WAAO7N,GAAP,SAAA8N,EAAA,sEAExB9N,EAAS+N,eAFe,OAI9B/N,EAP4B,CAACN,KAjBd,iBAoBe,2CAAN,wDagDXwG,gBAFS,SAACjF,GAAD,MAAY,CAACyF,YAAazF,EAAMqG,IAAIZ,eAEpBb,GAAzBK,EA3CH,SAACG,GAAW,IAEfK,EAA2BL,EAA3BK,YAAamH,EAAcxH,EAAdwH,WAMpB,OAJAG,qBAAU,WACRpN,YAAW,kBAAMiN,MAAc,OAC9B,CAACA,IAGF,oCACE,kBAAC,GAAD,CAAenH,YAAaA,IAC5B,kBAAC,GAAD,CAASA,YAAaA,Q,OC1BRuH,QACW,cAA7BvG,OAAOwG,SAASC,UAEe,UAA7BzG,OAAOwG,SAASC,UAEhBzG,OAAOwG,SAASC,SAASC,MACvB,2DCNNT,iBACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU9F,MAAOA,GACf,kBAAC,GAAD,QAIJwG,SAASC,eAAe,SDgHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBnO,MAAK,SAAAoO,GACJA,EAAaC,gBAEd/J,OAAM,SAAA8E,GACLzE,QAAQyE,MAAMA,EAAMrK,a,0LEhItBJ,EAAe,CACnB4N,WAAY,GACZlK,YAAa,GAEbiM,iBAAkB,GAClBhM,aAAc,MA0CHiM,EAAgB,eAAChC,EAAD,uDAAc,GAAIjK,EAAlB,uDAAiC,EAAjC,MAAwC,CACnElD,KAvDsB,0BAwDtBkD,eACAiK,eAEWnK,EAAiB,eAACC,EAAD,uDAAe,GAAIC,EAAnB,uDAAkC,EAAlC,MAAyC,CACrElD,KA3DmB,2BA4DnBkD,eACAD,gBAGWmM,EAAuB,SAAC3P,GAAD,MAAS,CAACO,KA9DnB,iCA8DiDP,OAG/D4P,EAAiB,SAAC5P,EAAI6P,GAAL,8CAAoB,WAAOhP,GAAP,mBAAA8N,EAAA,6DAE1CmB,EAAOC,KAAKC,UAAU,CAACC,SAAUjQ,IACjC0F,EAASmK,EAAa,QAAU,SAEtChP,EAAS8O,EAAqB3P,IALkB,SAO7B4F,IAAYC,YAAYH,EAAQoK,GAPH,OAO1C1O,EAP0C,OAQhDP,EAAS8O,EAAqB3P,IAC9Ba,EAbsC,CAACN,KA9DzB,sBA8D4CoH,QAatCvG,IAT4B,2CAApB,uDAafwG,IAlEQ,WAAmC,IAAlC9F,EAAiC,uDAAzBhC,EAAciC,EAAW,uCACvD,OAAQA,EAAOxB,MACb,IAjBoB,0BAkBlB,OAAO,2BACFuB,GADL,IAEE4L,WAAY3L,EAAO2L,WACnBjK,aAAc1B,EAAO0B,eAGzB,IAvBiB,2BAwBf,OAAO,2BACF3B,GADL,IAEE0B,YAAazB,EAAOyB,YACpBC,aAAc1B,EAAO0B,eAGzB,IA7BY,sBA8BV,OAAO,2BACF3B,GACAC,EAAO4F,SAGd,IAlCuB,iCAmCrB,IAAMuI,EAAMnO,EAAO/B,GAEnB,OAAO,2BACF8B,GADL,IAEE2N,iBAAkB3N,EAAM2N,iBAAiBU,SAASD,GAC9CpO,EAAM2N,iBAAiBW,QAAO,SAAApQ,GAAE,OAAIA,IAAOkQ,KAD7B,sBAEVpO,EAAM2N,kBAFI,CAEcS,MAGpC,QACE,OAAOpO,K,oOCzCPhC,EAAe,CACnBsH,UAAU,EAEVD,OAAQ,KAGR3F,SAAU,CACR0H,OAAQ,KACRK,SAAU,KACVJ,OAAQ,OAwBCkH,EAAU,SAAC7O,GAAD,MAAe,CAACjB,KAtCtB,gBAsCsCiB,aAC1C8O,EAAkB,SAAClJ,GAAD,MAAe,CAAC7G,KAtCzB,yBAsCkD6G,aAG3DT,EAAgB,SAAC4J,GAAD,OAAe,SAAC1P,GAE3C,IAAI0J,EAAQ,KAEZ,OAAQgG,GACN,KAAK,EAAGhG,EAAQ,0BAA2B,MAC3C,KAAK,EAAGA,EAAQ,qCAIlB1J,EAAS2P,YAAW,QAAS,CAACC,OAAQlG,OAG3BqE,EAAU,yDAAM,WAAO/N,GAAP,eAAA8N,EAAA,sEACR3J,IAASC,OADD,OACrB7D,EADqB,OAG3BP,EAASwP,EAAQjP,EAAKI,WACtBX,EAAS6O,YAActO,EAAKsM,WAAYtM,EAAKqC,eAJlB,2CAAN,uDAOVmD,EAAW,SAACxB,EAAOC,EAAMC,GAAd,8CAAuB,WAAOzE,GAAP,eAAA8N,EAAA,6DAE7C9N,EAASyP,GAAgB,IAFoB,SAI1BtL,IAASI,MAAMA,EAAOC,EAAMC,GAJF,UAIvClE,EAJuC,OAM7CP,EAASyP,GAAgB,KAErBlP,EAAKmJ,MARoC,uBAS3C5D,EAAcvF,EAAKmJ,MAAnB5D,CAA0B9F,GATiB,kBAUpC,MAVoC,OAa7CA,EAASwP,EAAQjP,EAAKI,WACtBX,EAAS6O,YAActO,EAAKsM,WAAYtM,EAAKqC,eAdA,4CAAvB,uDAiBXoD,EAAY,yDAAM,WAAOhG,GAAP,SAAA8N,EAAA,6DAC7B9N,EAASyP,GAAgB,IADI,SAGvBtL,IAASO,SAHc,OAK7B1E,EAASyP,GAAgB,IACzBzP,EAASwP,GAAQ,IACjBxP,EAAS6O,eAPoB,2CAAN,uDAUVxH,IAvEK,WAAmC,IAAlCpG,EAAiC,uDAAzBhC,EAAciC,EAAW,uCACpD,OAAQA,EAAOxB,MACb,IApBa,gBAqBX,OAAO,2BACFuB,GADL,IAEEqF,OAAQpF,EAAOP,SAAS0H,QAAqC,IAA3BnH,EAAOP,SAAS0H,OAClD1H,SAAS,eAAMO,EAAOP,UAAY1B,KAEtC,IAzBkB,yBA0BhB,OAAO,2BACFgC,GADL,IAEEsF,SAAUrF,EAAOqF,WAErB,QACE,OAAOtF,K,+HC/BPgH,EAAG,2BAAOC,KAAUC,KAUb0H,EAAc,WACzB,OACE,yBAAKC,KAAK,MAAMvH,UAAWN,EAAImB,SAC7B,yBAAKb,UAAWN,EAAI8H,QAKX5C,IAhBC,WACd,OACE,yBAAK5E,UAAS,UAAKN,EAAI2C,MAAT,YAAkB3C,EAAI+H,eAAtB,YAAwC/H,EAAI0B,GAA5C,YAAkD1B,EAAIgI,aAClE,kBAACJ,EAAD,S,kBCTNxK,EAAOC,QAAU,CAAC,MAAQ,mBAAmB,YAAc,yBAAyB,eAAiB,4BAA4B,GAAK,gBAAgB,UAAY,uBAAuB,UAAY,uBAAuB,UAAY,uBAAuB,WAAa,wBAAwB,OAAS,oBAAoB,YAAc,yBAAyB,SAAW,sBAAsB,UAAY,uBAAuB,UAAY,uBAAuB,UAAY,uBAAuB,OAAS,oBAAoB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,iBAAiB,IAAM,iBAAiB,OAAS,oBAAoB,aAAe,0BAA0B,WAAa,wBAAwB,YAAc,yBAAyB,gBAAkB,6BAA6B,eAAiB,4BAA4B,QAAU,qBAAqB,QAAU,qBAAqB,SAAW,sBAAsB,YAAc,2B,gCCDt8B,8DAyBM4K,EAAc,SAACtH,GACnB,OAAQA,GACN,IAAK,OAAU,OAAOX,IAAIkI,IAC1B,IAAK,QAAU,OAAOlI,IAAImI,IAC1B,IAAK,SAAU,OAAOnI,IAAIoI,IAC1B,IAAK,QAAU,OAAOpI,IAAIqI,IAC1B,QAAS,OAAO,OAIL3H,IA5BA,SAAC,GAA0C,IAAxCxJ,EAAuC,EAAvCA,GAAImJ,EAAmC,EAAnCA,OAAQM,EAA2B,EAA3BA,KAA2B,IAArBC,cAAqB,SAEnDQ,EAAMkH,IAIV,OAHIjI,IACFe,EAAG,uCAAmClK,EAAnC,gBAGH,yBACEoJ,UAAS,UAAKN,IAAIuI,OAAT,YAAmBN,EAAYtH,GAA/B,YAAwCC,EAASZ,IAAIwI,aAAe,MAC7EX,KAAK,OAEL,kBAAC,IAAD,CAASrH,GAAE,mBAActJ,IACvB,yBAAKkK,IAAKA,EAAKC,IAAI,S,kLChBdoH,EAAW,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAASvK,EAAW,gCAE7CwK,EAAWD,EAAKE,SAAWF,EAAKlH,MAEtC,OACE,oCACE,4CACEnB,UAAWsI,EAAW5I,IAAI8I,YAAc,MACpCJ,EACAtK,IAEJwK,GAAY,yBAAKtI,UAAWN,IAAI+I,iBAAkBJ,EAAKlH,SAKlDU,EAAY,SAAC,GAAuD,IAAtDF,EAAqD,EAArDA,MAAqD,IAA9C+G,kBAA8C,MAAjC,KAAiC,EAA3BN,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAASvK,EAAW,qDAExEwK,EAAWD,EAAKE,SAAWF,EAAKlH,MAEtC,OACE,yBAAKnB,UAAWN,IAAIiJ,YAAcD,EAAa,IAAMA,EAAa,KAChE,yCACE1I,UAAWsI,EAAW5I,IAAI8I,YAAc,MACpCJ,EACAtK,IAEJwK,GAAY,yBAAKtI,UAAWN,IAAI+I,iBAAkBJ,EAAKlH,OACzD,+BAAQQ,KAKDI,EAAa,SAAC,GAA8B,IAA7BJ,EAA4B,EAA5BA,MAAOyG,EAAqB,EAArBA,MAAUtK,EAAW,iCACtD,OACE,yBAAKkC,UAAWN,IAAIkJ,gBAClB,2CACMR,EACAtK,IAEN,2BAAO+K,QAAS/K,EAAMlH,IAAK+K,M,wJCnC3BjL,EAAe,CACnB6D,WAAY,GAEZuO,iBAAkB,GAClBtO,YAAa,MAiCFF,EAAgB,eAACC,EAAD,uDAAc,GAAIC,EAAlB,uDAAgC,EAAhC,MAAuC,CAClErD,KA3CkB,yBA4ClBqD,cACAD,eAEWwO,EAAuB,SAACnS,GAAD,MAAS,CAACO,KA9CnB,gCA8CiDP,OAI/DoS,EAAiB,SAACpS,EAAIqS,GAAL,8CAAoB,WAAOxR,GAAP,mBAAA8N,EAAA,6DAE1CmB,EAAOC,KAAKC,UAAU,CAACsC,SAAUtS,IACjC0F,EAAS2M,EAAa,QAAU,SAEtCxR,EAASsR,EAAqBnS,IALkB,SAO7BgG,IAAWC,YAAYP,EAAQoK,GAPF,OAO1C1O,EAP0C,OAQhDP,EAASsR,EAAqBnS,IAC9Ba,EAnBoC,CAACN,KA1CpB,oBA0CsCwH,OAmBpC3G,IAT6B,2CAApB,uDAaf4G,IApDO,WAAmC,IAAlClG,EAAiC,uDAAzBhC,EAAciC,EAAW,uCACtD,OAAQA,EAAOxB,MACb,IAfe,oBAgBb,OAAO,2BACFuB,GACAC,EAAOgG,QAEd,IAnBgB,yBAoBd,OAAO,2BACFjG,GADL,IAEE6B,WAAY5B,EAAO4B,WACnBC,YAAa7B,EAAO6B,cAExB,IAxBuB,gCAyBrB,IAAMsM,EAAMnO,EAAO/B,GAEnB,OAAO,2BACF8B,GADL,IAEEoQ,iBAAkBpQ,EAAMoQ,iBAAiB/B,SAASD,GAC9CpO,EAAMoQ,iBAAiB9B,QAAO,SAAApQ,GAAE,OAAIA,IAAOkQ,KAD7B,sBAEVpO,EAAMoQ,kBAFI,CAEchC,MAEpC,QACE,OAAOpO,K,gCCtCb,4BASe2M,IANM,SAAC8D,GACpB,OAAO,SAACrL,GAAD,OACL,kBAAC,IAAMsL,SAAP,CAAgBC,SAAU,kBAAC,IAAD,OAAY,kBAACF,EAAcrL,O,gCCLzD,oEAAO,IAAMmD,EAAU,SAAAR,GAAC,OAAI,SAAA6I,GAC1B,OAAOA,OAAIC,EAAY9I,IAGZ+I,EAAY,SAAA3Q,GAAM,OAAI,SAAAyQ,GACjC,OAAOA,GAAKA,EAAEzQ,OAASA,EAAhB,wBAA0CA,EAA1C,iBAA6D0Q,K,4ECOvDE,EARG,SAAC,GAAgB,IAAf5L,EAAc,EAAdA,SAClB,OACE,yBAAKmC,UAAS,UAAKN,IAAI2C,MAAT,YAAkB3C,IAAI+H,eAAtB,YAAwC/H,IAAI0B,KACvDvD,ICeQ0E,IAjBQ,SAAC,GAA+E,IAA7E3I,EAA4E,EAA5EA,UAAW4I,EAAiE,EAAjEA,UAAWC,EAAsD,EAAtDA,gBAAsD,IAArCE,oBAAqC,SAAf9E,EAAe,EAAfA,SAErF,OAAIjE,EACK+I,EACH,kBAACiC,EAAA,EAAD,MACA,kBAACA,EAAA,EAAD,MAGFpC,EACKG,EACHF,EACA,kBAAC,EAAD,KAAYA,GAGX5E,K","file":"static/js/main.d382ff0d.chunk.js","sourcesContent":["import React from 'react'\r\nimport { reset } from 'redux-form'\r\nimport { API_profile } from 'api/api'\r\n\r\n\r\nconst\r\n  ADD_POST = 'profile:ADD-POST',\r\n  RESET_PAGE = 'profile:RESET-PAGE',\r\n  SET_PROFILE = 'profile:SET-PROFILE',\r\n  SET_CURRENT_ID = 'profile:SET-CURRENT-ID',\r\n  SET_SAVING_PROFILE = 'profile:SET-SAVING-PROFILE'\r\n\r\n\r\n// state.profile.\r\nconst initialState = {\r\n  posts: [\r\n    {id: 0, likes: 0, message: `Hey, sup?`},\r\n    {id: 1, likes: 23, message: `it's my first post`}\r\n  ],\r\n\r\n  info: null,             // null -> page is loading, false -> no user, [...] -> user info\r\n  currentID: null,        // хранит ID показываемого профайла,\r\n                          // чтобы менять содержимое страницы, если он вдруг изменится\r\n                          // типа URL то при этом меняется, но вот <Route просто\r\n                          // переиспользует созданный ранее инстанс класса ProfileContainer\r\n  saving: false\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts].concat({\r\n          id: state.posts.length,\r\n          likes: 0,\r\n          message: action.text\r\n            .split('\\n')\r\n            .map((text, i) => <p key={i}>{text}</p>)\r\n        })\r\n      }\r\n\r\n    case SET_PROFILE:\r\n      return {\r\n        ...state,\r\n        info: action.info\r\n      }\r\n\r\n    case SET_CURRENT_ID:\r\n      return {\r\n        ...state,\r\n        currentID: action.id\r\n      }\r\n\r\n    case RESET_PAGE:\r\n      return {\r\n        ...initialState\r\n      }\r\n\r\n    case SET_SAVING_PROFILE:\r\n      return {\r\n        ...state,\r\n        saving: action.saving\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// actions\r\nexport const addPostAC = (text) => ({type: ADD_POST, text})\r\nexport const resetPage = () => ({type: RESET_PAGE})\r\nexport const setProfile = (info) => ({type: SET_PROFILE, info})\r\nexport const setCurrentId = (id) => ({type: SET_CURRENT_ID, id})\r\nexport const setSavingProfile = (saving) => ({type: SET_SAVING_PROFILE, saving})\r\n\r\n\r\n// thunks\r\nexport const addPost = (formData, formName) => (dispatch) => {\r\n  dispatch(reset(formName))\r\n  dispatch(addPostAC(formData.text))\r\n}\r\n\r\nexport const setProfileAPI = (id) => (dispatch) => {\r\n\r\n  dispatch(setCurrentId(id))\r\n\r\n  API_profile.setProfile(id)\r\n    .then(data => {\r\n      if (data)\r\n        dispatch(setProfile(data.info))\r\n    })\r\n\r\n\r\n}\r\n\r\nexport const saveProfileAPI = (data, callback) => (dispatch) => {\r\n\r\n  dispatch(setSavingProfile(true))\r\n\r\n  API_profile.saveProfile('patch', data)\r\n    .then(data => {\r\n      if (data) {\r\n        dispatch(setProfile(data.info))\r\n        callback(data.info.userInfo)\r\n      }\r\n      setTimeout(() => dispatch(setSavingProfile(false)), 100)\r\n    })\r\n}\r\n\r\nexport const cancelProfileAPI = () => () => {\r\n  API_profile.cancelSetProfile()\r\n  API_profile.cancelSaveProfile()\r\n}\r\n\r\n\r\nexport default profileReducer\r\n","import React from 'react'\r\nimport { reset } from 'redux-form'\r\n\r\nconst\r\n  ADD_MESSAGE = 'dialogs:ADD-MESSAGE'\r\n\r\n\r\n// state.dialogs.\r\nconst initialState = {\r\n  messages: [\r\n    {id: 0, text: 'message #0'},\r\n    {id: 1, text: 'message #1'},\r\n    {id: 2, text: 'message #2'},\r\n  ],\r\n\r\n  contacts: [\r\n    {id: 0, name: 'Dimych', active: true},\r\n    {id: 1, name: 'Elijah'},\r\n    {id: 2, name: 'Klaus'},\r\n    {id: 3, name: 'Sam'},\r\n    {id: 4, name: 'Eby'},\r\n    {id: 5, name: 'Erny'}\r\n  ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages].concat({\r\n          id: state.messages.length,\r\n          text: action.text\r\n            .split('\\n')\r\n            .map((text, i) => <p key={i}>{text}</p>)\r\n        })\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst addMessageAC = (text) => ({type: ADD_MESSAGE, text })\r\n\r\nexport const addMessage = (formData, formName) => (dispatch) => {\r\n  dispatch(reset(formName))\r\n  dispatch(addMessageAC(formData.text))\r\n}\r\n\r\nexport default dialogsReducer","import { API_users } from 'api/api'\r\nimport { setFriendsList } from 'redux/friends-reducer'\r\nimport { setFollowList } from 'redux/follow-reducer'\r\n\r\n/**\r\n @param {{userId:number}} data\r\n*/\r\n\r\nconst\r\n  RESET_PAGE = 'users:RESET-PAGE',\r\n  SET_USERS = 'users:SET-USERS',\r\n  UPDATE_USERS = 'users:UPDATE-USERS',\r\n  TOGGLE_IS_LOADING = 'users:SET-IS-LOADING',\r\n  TOGGLE_FOLLOW = 'users:TOGGLE-FOLLOW-USER',\r\n  SET_PAGE_TO_NEXT = 'users:SET-PAGE-TO-NEXT'\r\n\r\n// state.users.\r\nconst initialState = {\r\n  users: null,       // null -> page is loading, false -> no users, [...] -> users list\r\n\r\n  page: 0,           // last uploaded users page\r\n  limit: 4,          // users per 1 upload\r\n  totalUsers: 0,     // total users on server\r\n  isLoading: false   // идет догрузка пользователей\r\n}\r\n\r\nfunction userReducer(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case TOGGLE_FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user =>\r\n          user.id === action.userId\r\n            ? {...user, followed: !user.followed}\r\n            : user\r\n        )\r\n      }\r\n\r\n    case SET_PAGE_TO_NEXT:\r\n      return {\r\n        ...state,\r\n        page: state.page + 1\r\n      }\r\n\r\n    case RESET_PAGE:\r\n      return {\r\n        ...initialState\r\n      }\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n        totalUsers: action.totalUsers\r\n      }\r\n\r\n    case UPDATE_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...state.users].concat(action.users)\r\n      }\r\n\r\n    case TOGGLE_IS_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: !state.isLoading\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// actions\r\nexport const setPageToNext = () => ({type: SET_PAGE_TO_NEXT})\r\nexport const resetPage = () => ({type: RESET_PAGE})\r\nexport const setUsers = (users, totalUsers) => ({\r\n  type: SET_USERS,\r\n  totalUsers,\r\n  users: Object.values(users)\r\n})\r\nexport const updateUsers = (users) => ({type: UPDATE_USERS, users: Object.values(users)})\r\nexport const toggleIsLoading = () => ({type: TOGGLE_IS_LOADING})\r\n\r\n\r\n// thunks\r\nexport const getUsersAPI = (page, limit) => (dispatch) => {\r\n  API_users.getUsers(page, limit)\r\n    .then(data => {\r\n      if (data) {\r\n        dispatch(setUsers(data.users, data.totalUsers))\r\n        dispatch(setFriendsList(data.friendsList, data.totalFriends))\r\n        dispatch(setFollowList(data.followList, data.totalFollow))\r\n      }\r\n    })\r\n}\r\n\r\nexport const updateUsersAPI = (page, limit) => (dispatch) => {\r\n  dispatch(toggleIsLoading())\r\n\r\n  API_users.getUsers(page, limit)\r\n    .then(data => {\r\n      if (data) {\r\n        dispatch(updateUsers(data.users))\r\n        dispatch(toggleIsLoading())\r\n      }\r\n    })\r\n}\r\n\r\nexport const cancelUsersAPI = () => () => {\r\n  API_users.cancelGetUsers()\r\n}\r\n\r\nexport default userReducer","import axios from 'axios'\r\n\r\nconst xml = axios.create({\r\n  baseURL: 'https://fishup.fun/api/',\r\n  withCredentials: 'include',\r\n  responseType: 'json'\r\n})\r\n\r\nconst cancelled = (th) => {\r\n  return !axios.isCancel(th)\r\n}\r\n\r\nconst createToken = (callback) => {\r\n  return new axios.CancelToken(f => callback(f))\r\n}\r\n\r\nexport const API_auth = {\r\n  auth() {\r\n    return xml.get('auth.php')\r\n      .then(response => response.data)\r\n  },\r\n\r\n  login(login, pass, stay) {\r\n    return xml.get(`auth.php?login=${login}&pass=${pass}&stay=${stay}`)\r\n      .then(response => response.data)\r\n  },\r\n\r\n  logout() {\r\n    return xml.get('auth.php?kill')\r\n  }\r\n}\r\n\r\nexport const API_profile = {\r\n  setProfile(id) {\r\n\r\n    const cancelToken = createToken(f => this.cancelSetProfile = f)\r\n\r\n    return xml.get(`profile.php?id=${id}`, {cancelToken})\r\n      .then(response => response.data)\r\n      .catch(th => cancelled(th))\r\n  }, cancelSetProfile(){},\r\n\r\n  saveProfile(method, data) {\r\n\r\n    const cancelToken = createToken(f => this.cancelSaveProfile = f)\r\n\r\n    return xml('profile.php', {method, data, cancelToken})\r\n      .then(response => response.data)\r\n      .catch(th => cancelled(th))\r\n  }, cancelSaveProfile(){}\r\n}\r\n\r\n\r\nexport const API_users = {\r\n  getUsers(page, limit) {\r\n\r\n    const url = `users.php?page=${page}&limit=${limit}`\r\n    const cancelToken = createToken(f => this.cancelGetUsers = f)\r\n\r\n    return xml.get(url, { cancelToken })\r\n      .then(response => response.data)\r\n      .catch(th => cancelled(th))\r\n  }, cancelGetUsers() {}\r\n}\r\n\r\n\r\nexport const API_friends = {\r\n  setFriendTo(method, data) {\r\n\r\n    console.log(method, data)\r\n\r\n    return xml('friends.php', {method, data})\r\n      .then(response => response.data)\r\n  }\r\n}\r\n\r\n\r\nexport const API_follow = {\r\n  setFollowTo(method, data) {\r\n    return xml('follow.php', {method, data})\r\n      .then(response => response.data)\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loading_wrapper__1spbP\",\"dot\":\"Loading_dot__2koHJ\",\"effect-3\":\"Loading_effect-3__2QGSa\",\"effect-1\":\"Loading_effect-1__1THHJ\",\"effect-2\":\"Loading_effect-2__3bTvh\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_menu\":\"UserMenu_user_menu__1nlBp\",\"logout\":\"UserMenu_logout__3jt_B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2khbE\",\"wrapper\":\"Header_wrapper__1jed6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Login_settings__BcrOD\",\"login_button\":\"Login_login_button__GWgT7\",\"accept_error\":\"Login_accept_error__3Ft71\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"NavBar_bar__2k9lF\",\"offset\":\"NavBar_offset__uOgXA\",\"container\":\"NavBar_container__34xTx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UsersSearch_container__2pAuk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__2DxG2\"};","module.exports = __webpack_public_path__ + \"static/media/advBanner_0.73869519.png\";","module.exports = __webpack_public_path__ + \"static/media/advBanner_1.6720313d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hello\":\"Hello_hello__3G5Cx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cover\":\"GlobalLoading_cover__2R97-\",\"cover_hide\":\"GlobalLoading_cover_hide__2o1LP\"};","export const getAuth = (state) => state.auth","import React, {useContext} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport * as AU_SL from 'selectors/auth-selectors'\r\nimport {setLoginError, loginAPI, logoutAPI} from 'redux/auth-reducer'\r\n\r\nconst AuthContext = React.createContext(null)\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nconst CreateProvider = ({children, ...props}) => {\r\n  const auth = {\r\n    auth: props.auth,\r\n    isAuth: props.auth.isAuth,\r\n    fetching: props.auth.fetching,\r\n\r\n    login: props.loginAPI,\r\n    logout: props.logoutAPI,\r\n    setLoginError: props.setLoginError\r\n  }\r\n\r\n  return <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: AU_SL.getAuth(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  setLoginError,\r\n  loginAPI,\r\n  logoutAPI\r\n}\r\n\r\nexport const AuthProvider = connect(mapStateToProps, mapDispatchToProps)(CreateProvider)\r\n","import {authAPI} from './auth-reducer'\r\n\r\nconst INIT_APP = 'app:INIT-APP'\r\n\r\n\r\n// state.app.\r\nconst initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  if (action.type === INIT_APP)\r\n    return {...state, initialized: true}\r\n\r\n  return state\r\n}\r\n\r\n\r\n// actions\r\nexport const initApp = () => ({type: INIT_APP})\r\n\r\n// thunks\r\nexport const initAppAPI = () => async (dispatch) => {\r\n\r\n  await dispatch(authAPI())\r\n\r\n  dispatch(initApp())\r\n}\r\n\r\nexport default appReducer","import {createStore, combineReducers, applyMiddleware, compose} from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport friendsReducer from './friends-reducer'\r\nimport followReducer from './follow-reducer'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\n\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nconst reducers = combineReducers({\r\n  friends: friendsReducer,\r\n  profile: profileReducer,\r\n  dialogs: dialogsReducer,\r\n  follow: followReducer,\r\n  users: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n  applyMiddleware(thunk)\r\n));\r\n\r\n//const store = createStore(reducers, applyMiddleware(thunk))\r\n\r\nexport default store","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport Avatar from 'components/Common/Avatar/Avatar'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './UserMenu.module.css'\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst UserMenu = () => {\r\n  const { auth, logout } = useAuth()\r\n\r\n  const id = auth.userInfo.userID\r\n  const havePH = auth.userInfo.havePH\r\n  const clickHandler = e => { e.preventDefault(); logout() }\r\n\r\n  return (\r\n    <div className={css.user_menu}>\r\n      <NavLink to='/profile'>{auth.userInfo.userName}</NavLink>\r\n      <Avatar id={id} havePH={havePH} size={'mini'} shadow={true}/>\r\n      <a href='/#' className={css.logout} onClick={clickHandler}>×</a>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserMenu","import React from 'react'\r\n\r\nimport UserMenu from './UserMenu/UserMenu'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Header.module.css'\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Header = () => {\r\n\r\n  const { isAuth, fetching } = useAuth()\r\n\r\n  return (\r\n    <header className={`${css.header}`}>\r\n      <div className={css.wrapper}>\r\n        <img src='https://jasonpallone.com/React-icon.png' alt=''/>\r\n        { isAuth && !fetching && <UserMenu/> }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\nimport {notNull} from 'utils/validators'\r\nimport {InputText, InputCheck} from 'components/Common/FormFields'\r\n\r\nimport g_css from '../../../App.module.css'\r\nimport l_css from './Login.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst validate = {\r\n  login: [notNull('ENTER LOGIN')],\r\n  pass: [notNull('ENTER PASSWORD')]\r\n}\r\n\r\nconst Login = (props) => {\r\n  if (props.error)\r\n    return (\r\n      <div className={`${css.cc} ${css.cc_column}`}>\r\n        <div>{props.error}</div>\r\n        <div\r\n          className={`${css.button} ${css.accept_error}`}\r\n          onClick={() => props.setLoginError(null)}\r\n        >\r\n          OK\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n\r\n      <Field\r\n        name='login'\r\n        type='text'\r\n        label='login'\r\n        component={InputText}\r\n        validate={validate.login}\r\n      />\r\n\r\n      <Field\r\n        name='pass'\r\n        type='password'\r\n        label='password'\r\n        component={InputText}\r\n        validate={validate.pass}\r\n      />\r\n\r\n      <div className={css.settings}>\r\n        <Field\r\n          id='stay'\r\n          name='stay'\r\n          type='checkbox'\r\n          label='stay in'\r\n          component={InputCheck}\r\n        />\r\n\r\n        <button className={`${css.button} ${css.login_button}`}>LOGIN</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({form: 'login'})(Login)","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport Login from 'components/Common/LoginBlock/Login'\r\nimport PreloadContent from 'components/Common/PreloadContent/PreloadContent'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './NavBar.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\nconst act = {'activeClassName': css.active_link}\r\n\r\nconst NavBar = () => {\r\n\r\n  const { isAuth, fetching, login, setLoginError } = useAuth()\r\n  const onSubmit = formData => {\r\n    const {login: lg, pass, stay = 1} = formData\r\n    login(lg, pass, stay ? 1 : 0)\r\n  }\r\n\r\n  return (\r\n    <nav className={`${css.bar} ${css.block} ${css.default_a} ${css.cc} ${css.cc_column}`}>\r\n      <PreloadContent\r\n        isLoading={isAuth === null || fetching}\r\n        noContent={isAuth === false}\r\n        noContentFiller={<Login onSubmit={onSubmit} setLoginError={setLoginError}/>}\r\n        clearContent={true}\r\n      >\r\n        <div className={css.container}>\r\n          <NavLink to='/profile' exact {...act}>Profile</NavLink>\r\n          <NavLink to='/dialogs' {...act}>Dialogs</NavLink>\r\n          <NavLink to='/news' {...act}>News</NavLink>\r\n          <NavLink to='/music' {...act}>Music</NavLink>\r\n\r\n          <NavLink to='/settings' className={css.offset} {...act}>Settings</NavLink>\r\n        </div>\r\n      </PreloadContent>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default NavBar","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './UsersSearch.module.css'\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst UsersSearch = () => {\r\n  return (\r\n    <div className={`${css.block} ${css.container}`}>\r\n      <NavLink to='/users' activeClassName={css.active_link}>Find user</NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersSearch","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport Avatar from 'components/Common/Avatar/Avatar'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Friend.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Friend = ({id, name, havePH}) => {\r\n  return (\r\n    <div className={css.friend}>\r\n      <Avatar id={id} havePH={havePH} size={'mini'}/>\r\n\r\n      <NavLink to={`/profile/${id}`}>\r\n        <b>{name}</b>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Friend","import React from 'react'\r\n\r\nimport advBanner_0 from 'assets/images/advBanner_0.png'\r\nimport advBanner_1 from 'assets/images/advBanner_1.png'\r\n\r\nconst banners = [advBanner_0, advBanner_1]\r\nconst styles = [\r\n  { display: 'block', height: '86px' },\r\n  { display: 'block', height: '174px' }\r\n]\r\n\r\nconst AdvBar = ({ id }) => {\r\n\r\n  return (\r\n    <a href='https://finiko.im/'>\r\n      <img src={banners[id]} style={styles[id]} alt=''/>\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default AdvBar","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport Friend from './Friend/Friend'\r\nimport AdvBar from 'components/Common/AdvBar/AdvBar'\r\n\r\nimport css from 'App.module.css'\r\n\r\nconst FriendsBar = (props) => {\r\n\r\n  const { isAuth } = useAuth()\r\n  const { totalFriends, totalFollowers = 0, totalFollow = 0 } = props\r\n\r\n  return (\r\n    <>\r\n      <aside className={`${css.block} ${css.left_bar}`}>\r\n        {\r\n          isAuth\r\n            ? <Links tFR={totalFriends} tFS={totalFollowers} tFL={totalFollow}/>\r\n            : <AdvBar id={0}/>\r\n        }\r\n      </aside>\r\n\r\n      <aside className={`${css.block} ${css.left_offset}`}>\r\n        {\r\n          props.totalFriends\r\n            ? <FriendList friends={props.friends}/>\r\n            : <AdvBar id={1}/>\r\n        }\r\n      </aside>\r\n    </>\r\n  )\r\n}\r\n\r\nconst FriendList = ({friends}) => {\r\n  return friends.map(friend => <Friend key={friend.id} {...friend}/>)\r\n}\r\n\r\nconst Links = ({tFR, tFS, tFL}) => {\r\n  return (\r\n    <>\r\n      <div className={css.num_label}>\r\n        <NavLink to='/friends' activeClassName={css.active_link}>My friends</NavLink>\r\n        <div><b>{+tFR}</b></div>\r\n      </div>\r\n\r\n      <div className={css.num_label}>\r\n        <NavLink to='/followers' activeClassName={css.active_link}>My followers</NavLink>\r\n        <div><b>{+tFS}</b></div>\r\n      </div>\r\n\r\n      <div className={css.num_label}>\r\n        <NavLink to='/follow' activeClassName={css.active_link}>I follow</NavLink>\r\n        <div><b>{+tFL}</b></div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default FriendsBar","import { connect } from 'react-redux'\r\n\r\nimport FriendsBar from './FriendsBar'\r\n\r\nconst mapStateToProps = (state) => ({\r\n  friends: state.friends.friendsBar,\r\n  totalFriends: state.friends.totalFriends,\r\n  totalFollow: state.follow.totalFollow\r\n})\r\n\r\nconst FriendsBarContainer = connect(mapStateToProps)(FriendsBar)\r\n\r\nexport default FriendsBarContainer","import React from 'react'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Hello.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Hello = () => {\r\n  return (\r\n    <div className={`${css.block} ${css.cc} ${css.hello}`}>\r\n      <h1>Greetings stranger!</h1>\r\n      <p>This is a social network react-rookie-app</p>\r\n      <p>Please show some mercy to the poor creature trying to do this well</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Hello","import React from 'react'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './GlobalLoading.module.css'\r\nimport{  LoadingIcon } from 'components/Common/Loading/Loading'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst GlobalLoading = ({ initialized }) => {\r\n  return (\r\n    <div className={`${css.cover} ${initialized ? css.cover_hide : null}`}>\r\n      <LoadingIcon/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GlobalLoading","import React, {useEffect} from 'react'\nimport {connect} from 'react-redux'\nimport {Route} from 'react-router-dom'\n\nimport withSuspense from 'HOC/withSuspense'\n\nimport Header from './components/Header/Header'\nimport NavBar from './components/NavBar/NavBar'\nimport UsersSearch from './components/UsersSearch/UsersSearch'\nimport FriendsBarContainer from './components/FriendsBar/FriendsBarContainer'\n\nimport Hello from './components/Hello/Hello'\n\nimport GlobalLoading from 'components/Common/GlobalLoading/GlobalLoading'\n\nimport {AuthProvider} from 'Context/AuthContext'\nimport {initAppAPI} from 'redux/app-reducer'\n\nimport css from 'App.module.css'\n\nconst ProfileContainer = React.lazy(() =>\n  import('./components/Profile/ProfileContainer'))\nconst Dialogs = React.lazy(() =>\n  import('./components/Dialogs/Dialogs'))\nconst UsersContainer = React.lazy(() =>\n  import('./components/Users/UsersContainer'))\n\nconst App = (props) => {\n\n  const {initialized, initAppAPI} = props\n\n  useEffect(() => {\n    setTimeout(() => initAppAPI(), 1000)\n  }, [initAppAPI])\n\n  return (\n    <>\n      <GlobalLoading initialized={initialized}/>\n      <Content initialized={initialized}/>\n    </>\n  )\n}\n\nconst Content = ({initialized}) => {\n  if (!initialized)\n    return null\n\n  return (\n    <AuthProvider>\n      <div className={css.wrapper}>\n        <Header/>\n        <NavBar/>\n        <UsersSearch/>\n        <FriendsBarContainer/>\n        <div className={css.content}>\n          <Route path='/' exact render={() => <Hello/>}/>\n          <Route path='/profile/:id?' render={withSuspense(ProfileContainer)}/>\n          <Route path='/dialogs' render={withSuspense(Dialogs)}/>\n          <Route path='/users' render={withSuspense(UsersContainer)}/>\n          <Route path='/news'/>\n          <Route path='/music'/>\n          <Route path='/settings'/>\n        </div>\n      </div>\n    </AuthProvider>\n  )\n}\n\nconst mapStateToProps = (state) => ({initialized: state.app.initialized})\nconst mapDispatchToProps = {initAppAPI}\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { HashRouter } from 'react-router-dom'\n\nimport store from 'redux/redux-store'\nimport App from 'App'\n\nimport 'index.css'\n\nimport * as serviceWorker from 'serviceWorker'\n\nrender(\n  <HashRouter>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </HashRouter>,\n\n  document.getElementById('root')\n)\n\nserviceWorker.unregister();","import {API_friends} from 'api/api'\r\n\r\nconst SET_FRIENDS_BAR = 'friends:SET-FRIENDS-BAR',\r\n  SET_FRIENDS_LIST = 'friends:SET-FRIENDS-LIST',\r\n  SET_FRIENDS = 'friends:SET_FRIENDS',\r\n  TOGGLE_FRIEND_FETCHING = 'friends:TOGGLE-FRIEND-FETCHING'\r\n\r\n\r\n// state.friends.\r\nconst initialState = {\r\n  friendsBar: [],\r\n  friendsList: [],\r\n\r\n  friendIsFetching: [],\r\n  totalFriends: null\r\n}\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_FRIENDS_BAR:\r\n      return {\r\n        ...state,\r\n        friendsBar: action.friendsBar,\r\n        totalFriends: action.totalFriends\r\n      }\r\n\r\n    case SET_FRIENDS_LIST:\r\n      return {\r\n        ...state,\r\n        friendsList: action.friendsList,\r\n        totalFriends: action.totalFriends\r\n      }\r\n\r\n    case SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        ...action.friends\r\n      }\r\n\r\n    case TOGGLE_FRIEND_FETCHING:\r\n      const uid = action.id\r\n\r\n      return {\r\n        ...state,\r\n        friendIsFetching: state.friendIsFetching.includes(uid)\r\n          ? state.friendIsFetching.filter(id => id !== uid)\r\n          : [...state.friendIsFetching, uid]\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n// actions\r\nexport const setFriendsBar = (friendsBar = [], totalFriends = 0) => ({\r\n  type: SET_FRIENDS_BAR,\r\n  totalFriends,\r\n  friendsBar\r\n})\r\nexport const setFriendsList = (friendsList = [], totalFriends = 0) => ({\r\n  type: SET_FRIENDS_LIST,\r\n  totalFriends,\r\n  friendsList\r\n})\r\nexport const setFriends = (friends) => ({type: SET_FRIENDS, friends})\r\nexport const toggleFriendFetching = (id) => ({type: TOGGLE_FRIEND_FETCHING, id})\r\n\r\n// thunks\r\nexport const setFriendToAPI = (id, makeFriend) => async (dispatch) => {\r\n\r\n  const body = JSON.stringify({friendId: id})\r\n  const method = makeFriend ? 'PATCH' : 'DELETE'\r\n\r\n  dispatch(toggleFriendFetching(id))\r\n\r\n  const data = await API_friends.setFriendTo(method, body)\r\n  dispatch(toggleFriendFetching(id))\r\n  dispatch(setFriends(data))\r\n}\r\n\r\n\r\nexport default friendsReducer","import {API_auth} from 'api/api'\r\nimport {stopSubmit} from 'redux-form'\r\nimport {setFriendsBar} from 'redux/friends-reducer'\r\n\r\nconst SET_AUTH = 'auth:SET-AUTH',\r\n  SET_FETCHING_AUTH = 'auth:SET-FETCHING-AUTH'\r\n\r\n\r\n// state.auth.\r\nconst initialState = {\r\n  fetching: false, // true - идет запрос login/logout\r\n\r\n  isAuth: null,  // null  - need ask auth from server\r\n                 // false - not authorized\r\n                 // true  - authorized\r\n  userInfo: {\r\n    userID: null,  // user's uniq ID\r\n    userName: null,  // user's shown name\r\n    havePH: null   // true -> user has photo\r\n  }\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH:\r\n      return {\r\n        ...state,\r\n        isAuth: action.userInfo.userID || action.userInfo.userID === 0,\r\n        userInfo: {...(action.userInfo || initialState)}\r\n      }\r\n    case SET_FETCHING_AUTH:\r\n      return {\r\n        ...state,\r\n        fetching: action.fetching\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n// actions\r\nexport const setAuth = (userInfo) => ({type: SET_AUTH, userInfo})\r\nexport const setFetchingAuth = (fetching) => ({type: SET_FETCHING_AUTH, fetching})\r\n\r\n// thunks\r\nexport const setLoginError = (errorCode) => (dispatch) => {\r\n\r\n  let error = null\r\n\r\n  switch (errorCode) {\r\n    case 1: error = 'wrong login or password'; break\r\n    case 2: error = 'please, specify login and password'; break\r\n    default: break\r\n  }\r\n\r\n  dispatch(stopSubmit('login', {_error: error}))\r\n}\r\n\r\nexport const authAPI = () => async (dispatch) => {\r\n  const data = await API_auth.auth()\r\n\r\n  dispatch(setAuth(data.userInfo))\r\n  dispatch(setFriendsBar(data.friendsBar, data.totalFriends))\r\n}\r\n\r\nexport const loginAPI = (login, pass, stay) => async (dispatch) => {\r\n\r\n  dispatch(setFetchingAuth(true))\r\n\r\n  const data = await API_auth.login(login, pass, stay)\r\n\r\n  dispatch(setFetchingAuth(false))\r\n\r\n  if (data.error) {\r\n    setLoginError(data.error)(dispatch)\r\n    return null\r\n  }\r\n\r\n  dispatch(setAuth(data.userInfo))\r\n  dispatch(setFriendsBar(data.friendsBar, data.totalFriends))\r\n}\r\n\r\nexport const logoutAPI = () => async (dispatch) => {\r\n  dispatch(setFetchingAuth(true))\r\n\r\n  await API_auth.logout()\r\n\r\n  dispatch(setFetchingAuth(false))\r\n  dispatch(setAuth(false))\r\n  dispatch(setFriendsBar())\r\n}\r\n\r\nexport default authReducer","import React from 'react'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Loading.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={`${css.block} ${css.before_content} ${css.cc} ${css.hide_a_sec}`}>\r\n      <LoadingIcon />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const LoadingIcon = () => {\r\n  return (\r\n    <div role='img' className={css.wrapper}>\r\n      <div className={css.dot} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"App_block__x_vNq\",\"block_label\":\"App_block_label__1JLtr\",\"before_content\":\"App_before_content__2S8sk\",\"cc\":\"App_cc__1r5cl\",\"cc_inline\":\"App_cc_inline__1NeCl\",\"cc_column\":\"App_cc_column__APSSf\",\"ff_header\":\"App_ff_header__294qd\",\"hide_a_sec\":\"App_hide_a_sec__xOaUs\",\"fadein\":\"App_fadein__2Aa_9\",\"active_link\":\"App_active_link__33Jsc\",\"inline_a\":\"App_inline_a__3eld-\",\"colored_a\":\"App_colored_a__OHu3m\",\"default_a\":\"App_default_a__Xmpsk\",\"num_label\":\"App_num_label__2in1u\",\"button\":\"App_button__SRgcn\",\"a_z\":\"App_a_z__3qy3a\",\"a_s\":\"App_a_s__35yVq\",\"a_m\":\"App_a_m__2-3hL\",\"a_l\":\"App_a_l__2XPXe\",\"avatar\":\"App_avatar__3TM66\",\"shadow_inset\":\"App_shadow_inset__17NSL\",\"input_text\":\"App_input_text__1l-nh\",\"field_error\":\"App_field_error__202nj\",\"field_error_box\":\"App_field_error_box__qThbx\",\"input_checkbox\":\"App_input_checkbox__wc8e7\",\"wrapper\":\"App_wrapper__1ip3W\",\"content\":\"App_content__34Air\",\"left_bar\":\"App_left_bar__3NLP0\",\"left_offset\":\"App_left_offset__33QRd\"};","import React from 'react'\r\n\r\nimport css from 'App.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport noImageSRC from 'assets/images/no_avatar.png'\r\n\r\nconst Avatar = ({ id, havePH, size, shadow = false }) => {\r\n\r\n  let src = noImageSRC\r\n  if (havePH)\r\n    src = `https://fishup.fun/api/users/${id}/avatar.png`\r\n\r\n  return (\r\n    <div\r\n      className={`${css.avatar} ${sizeToClass(size)} ${shadow ? css.shadow_inset : null}`}\r\n      role='img'\r\n    >\r\n      <NavLink to={`/profile/${id}`}>\r\n        <img src={src} alt='' />\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst sizeToClass = (size) => {\r\n  switch (size) {\r\n    case 'mini'  : return css.a_z\r\n    case 'small' : return css.a_s\r\n    case 'medium': return css.a_m\r\n    case 'large' : return css.a_l\r\n    default: return null\r\n  }\r\n}\r\n\r\nexport default Avatar","import React from 'react'\r\nimport css from 'App.module.css'\r\n\r\nexport const TextArea = ({input, meta, ...props}) => {\r\n\r\n  const hasError = meta.touched && meta.error\r\n\r\n  return (\r\n    <>\r\n      <textarea\r\n        className={hasError ? css.field_error : null}\r\n        {...input}\r\n        {...props}\r\n      />\r\n      { hasError && <div className={css.field_error_box}>{meta.error}</div> }\r\n    </>\r\n  )\r\n}\r\n\r\nexport const InputText = ({label, extraClass = null, input, meta, ...props}) => {\r\n\r\n  const hasError = meta.touched && meta.error\r\n\r\n  return (\r\n    <div className={css.input_text + (extraClass ? ' ' + extraClass : '')}>\r\n      <input\r\n        className={hasError ? css.field_error : null}\r\n        {...input}\r\n        {...props}\r\n      />\r\n      { hasError && <div className={css.field_error_box}>{meta.error}</div> }\r\n      <label>{label}</label>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const InputCheck = ({label, input, ...props}) => {\r\n  return (\r\n    <div className={css.input_checkbox}>\r\n      <input\r\n        {...input}\r\n        {...props}\r\n      />\r\n      <label htmlFor={props.id}>{label}</label>\r\n    </div>\r\n  )\r\n}","import { API_follow } from 'api/api'\r\n\r\nconst SET_FOLLOW = 'follow:SET-FOLLOW',\r\n  SET_FOLLOW_LIST = 'follow:SET-FOLLOW-LIST',\r\n  TOGGLE_FOLLOW_FETCHING = 'follow:TOGGLE-FRIEND-FETCHING'\r\n\r\n\r\n// state.follow.\r\nconst initialState = {\r\n  followList: [],\r\n\r\n  followIsFetching: [],\r\n  totalFollow: null\r\n}\r\n\r\nconst followReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_FOLLOW:\r\n      return {\r\n        ...state,\r\n        ...action.follow\r\n      }\r\n    case SET_FOLLOW_LIST:\r\n      return {\r\n        ...state,\r\n        followList: action.followList,\r\n        totalFollow: action.totalFollow\r\n      }\r\n    case TOGGLE_FOLLOW_FETCHING:\r\n      const uid = action.id\r\n\r\n      return {\r\n        ...state,\r\n        followIsFetching: state.followIsFetching.includes(uid)\r\n          ? state.followIsFetching.filter(id => id !== uid)\r\n          : [...state.followIsFetching, uid]\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n// actions\r\nexport const setFollow = (follow) => ({type: SET_FOLLOW, follow})\r\nexport const setFollowList = (followList = [], totalFollow = 0) => ({\r\n  type: SET_FOLLOW_LIST,\r\n  totalFollow,\r\n  followList\r\n})\r\nexport const toggleFollowFetching = (id) => ({type: TOGGLE_FOLLOW_FETCHING, id})\r\n\r\n\r\n// thunks\r\nexport const setFollowToAPI = (id, makeFollow) => async (dispatch) => {\r\n\r\n  const body = JSON.stringify({followId: id})\r\n  const method = makeFollow ? 'PATCH' : 'DELETE'\r\n\r\n  dispatch(toggleFollowFetching(id))\r\n\r\n  const data = await API_follow.setFollowTo(method, body)\r\n  dispatch(toggleFollowFetching(id))\r\n  dispatch(setFollow(data))\r\n}\r\n\r\n\r\nexport default followReducer","import React from 'react'\r\nimport Loading from 'components/Common/Loading/Loading'\r\n\r\nconst withSuspense = (Component) => {\r\n  return (props) => (\r\n    <React.Suspense fallback={<Loading/>}><Component {...props}/></React.Suspense>\r\n  )\r\n}\r\n\r\nexport default withSuspense","export const notNull = e => v => {\r\n  return v ? undefined : e\r\n}\r\n\r\nexport const maxLength = length => v => {\r\n  return v && v.length > length ? `MAX LENGTH IS ${length} SYMBOLS` : undefined\r\n}","import React from 'react'\r\n\r\nimport css from 'App.module.css'\r\n\r\nconst NoContent = ({children}) => {\r\n  return (\r\n    <div className={`${css.block} ${css.before_content} ${css.cc}`}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NoContent","import React from 'react'\r\n\r\nimport Loading, { LoadingIcon } from 'components/Common/Loading/Loading'\r\nimport NoContent from 'components/Common/NoContent/NoContent'\r\n\r\nconst PreloadContent = ({ isLoading, noContent, noContentFiller, clearContent = false, children }) => {\r\n\r\n  if (isLoading) {\r\n    return clearContent\r\n      ? <LoadingIcon />\r\n      : <Loading />\r\n  }\r\n\r\n  if (noContent) {\r\n    return clearContent\r\n      ? noContentFiller\r\n      : <NoContent>{noContentFiller}</NoContent>\r\n  }\r\n\r\n  return children\r\n}\r\n\r\nexport default PreloadContent"],"sourceRoot":""}