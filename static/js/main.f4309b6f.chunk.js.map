{"version":3,"sources":["components/Common/NoContent/NoContent.jsx","components/Common/PreloadContent/PreloadContent.jsx","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/users-reducer.js","api/api.js","components/Common/Error404/Error404.jsx","components/Common/Loading/Loading.module.css","assets/images/no_avatar.png","components/Common/Avatar/Avatar.module.css","components/Header/UserMenu/UserMenu.module.css","components/Header/Header.module.css","components/Common/LoginBlock/Login.module.css","components/NavBar/NavBar.module.css","assets/images/error_404.png","components/UsersSearch/UsersSearch.module.css","components/FriendsBar/Friend/Friend.module.css","assets/images/advBanner_0.png","assets/images/advBanner_1.png","components/Hello/Hello.module.css","components/Common/GlobalLoading/GlobalLoading.module.css","selectors/auth-selectors.js","Context/AuthContext.jsx","components/Common/Loading/Loading.jsx","App.module.css","redux/friends-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Header/UserMenu/UserMenu.jsx","components/Header/Header.jsx","components/Common/LoginBlock/Login.jsx","components/NavBar/NavBar.jsx","components/UsersSearch/UsersSearch.jsx","components/FriendsBar/Friend/Friend.jsx","components/Common/AdvBar/AdvBar.jsx","components/FriendsBar/FriendsBar.jsx","components/FriendsBar/FriendsBarContainer.jsx","components/Hello/Hello.jsx","components/Common/GlobalLoading/GlobalLoading.jsx","App.js","serviceWorker.js","index.js","redux/auth-reducer.js","components/Common/FormFields/index.jsx","components/Common/Upload/Upload.jsx","components/Common/Avatar/Avatar.jsx","redux/follow-reducer.js","HOC/withSuspense.jsx","utils/validators.js"],"names":["NoContent","children","className","css","block","before_content","cc","PreloadContent","isLoading","noContent","noContentFiller","clearContent","Loading","ADD_POST","SET_NEW_AVATAR","Symbol","initialState","posts","id","likes","message","info","currentID","saving","resetPage","type","setProfile","setCurrentId","setSavingProfile","setNewPhotos","photos","addPost","formData","formName","dispatch","text","reset","setProfileAPI","a","API_profile","response","saveProfileAPI","data","callback","saveProfile","userInfo","setTimeout","cancelProfileAPI","cancelSetProfile","cancelSaveProfile","profileReducer","state","action","concat","length","split","map","i","key","messages","contacts","name","active","addMessage","dialogsReducer","users","page","limit","totalUsers","setPageToNext","getUsersAPI","API_users","getUsers","Object","values","setFriendsList","friendsList","totalFriends","setFollowList","followList","totalFollow","updateUsersAPI","cancelUsersAPI","cancelGetUsers","userReducer","user","userId","followed","xml","axios","create","baseURL","withCredentials","responseType","cancelled","th","isCancel","createToken","CancelToken","f","request","url","method","cancelToken","headers","then","catch","API_auth","auth","login","pass","stay","logout","API_friends","setFriendTo","makeFriend","API_follow","setFollowTo","makeFollow","API_files","uploadFile","file","FormData","append","cancelUploadFile","deleteFile","file_ID","Error404","withBox","img","src","error_404","style","maxHeight","alt","module","exports","getAuth","AuthContext","React","createContext","useAuth","useContext","mapDispatchToProps","setLoginError","loginAPI","logoutAPI","AuthProvider","connect","AU_SL","props","isAuth","fetching","Provider","value","g_css","l_css","LoadingIcon","isWhite","role","wrapper","white","dot","TransparentLoading","height","hide_a_sec","friendsBar","friendIsFetching","setFriendsBar","toggleFriendFetching","setFriendToAPI","body","JSON","stringify","friendId","friends","friendsReducer","uid","includes","filter","initialized","appReducer","reducers","combineReducers","profile","dialogs","follow","followReducer","usersReducer","authReducer","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","UserMenu","userID","avatar","user_menu","to","userName","Avatar","size","shadow","href","onClick","e","preventDefault","Header","header","validate","notNull","reduxForm","error","cc_column","button","accept_error","onSubmit","handleSubmit","Field","label","component","InputText","settings","InputCheck","login_button","act","active_link","NavBar","bar","default_a","lg","container","exact","offset","UsersSearch","activeClassName","Friend","friend","banners","advBanner_0","advBanner_1","styles","display","AdvBar","FriendList","Links","tFR","tFS","tFL","num_label","FriendsBar","totalFollowers","left_bar","left_offset","FriendsBarContainer","Hello","hello","GlobalLoading","cover","cover_hide","ProfileContainer","lazy","Dialogs","UsersContainer","Content","content","path","render","withSuspense","initAppAPI","authAPI","useEffect","Boolean","location","hostname","match","document","getElementById","googleTrends","interestOverTime","keyword","results","console","log","err","navigator","serviceWorker","ready","registration","unregister","setAuth","setFetchingAuth","errorCode","stopSubmit","_error","TextArea","input","meta","hasError","touched","field_error","field_error_box","extraClass","input_text","input_checkbox","htmlFor","Upload","loadingClassName","removeText","affirmRemoveText","uploadText","submitFile","ref_input","useRef","setClassName","useState","removeMode","setRemoveMode","setIsLoading","setError","uploaded","current","click","onChange","target","files","ref","backgroundColor","marginTop","marginBottom","sizeToClass","a_z","a_s","a_m","a_l","editable","noImageSRC","shadow_inset","avatar_editable","avatar_edit","avatar_fixed","followIsFetching","toggleFollowFetching","setFollowToAPI","followId","Component","Suspense","fallback","v","undefined","maxLength"],"mappings":"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","file":"static/js/main.f4309b6f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport css from 'App.module.css'\r\n\r\nconst NoContent = ({children}) => {\r\n  return (\r\n    <div className={`${css.block} ${css.before_content} ${css.cc}`}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NoContent","import React from 'react'\r\n\r\nimport Loading, { LoadingIcon } from 'components/Common/Loading/Loading'\r\nimport NoContent from 'components/Common/NoContent/NoContent'\r\n\r\nconst PreloadContent = ({ isLoading, noContent, noContentFiller, clearContent = false, children }) => {\r\n\r\n  if (isLoading) {\r\n    return clearContent\r\n      ? <LoadingIcon />\r\n      : <Loading />\r\n  }\r\n\r\n  if (noContent) {\r\n    return clearContent\r\n      ? noContentFiller\r\n      : <NoContent>{noContentFiller}</NoContent>\r\n  }\r\n\r\n  return children\r\n}\r\n\r\nexport default PreloadContent","import React from 'react'\r\nimport {reset} from 'redux-form'\r\nimport {API_profile} from 'api/api'\r\n\r\n\r\nconst\r\n  ADD_POST = 'profile:ADD-POST',\r\n  RESET_PAGE = 'profile:RESET-PAGE',\r\n  SET_PROFILE = 'profile:SET-PROFILE',\r\n  SET_CURRENT_ID = 'profile:SET-CURRENT-ID',\r\n  SET_SAVING_PROFILE = 'profile:SET-SAVING-PROFILE',\r\n  SET_NEW_AVATAR = Symbol('profile:SET_NEW_AVATAR')\r\n\r\n\r\n// state.profile.\r\nconst initialState = {\r\n  posts: [\r\n    {id: 0, likes: 0, message: `Hey, sup?`},\r\n    {id: 1, likes: 23, message: `it's my first post`}\r\n  ],\r\n\r\n  info: null,             // null -> page is loading, false -> no user, [...] -> user info\r\n  currentID: null,        // хранит ID показываемого профайла,\r\n                          // чтобы менять содержимое страницы, если он вдруг изменится\r\n                          // типа URL то при этом меняется, но вот <Route просто\r\n                          // переиспользует созданный ранее инстанс класса ProfileContainer\r\n  saving: false\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts].concat({\r\n          id: state.posts.length,\r\n          likes: 0,\r\n          message: action.text\r\n            .split('\\n')\r\n            .map((text, i) => <p key={i}>{text}</p>)\r\n        })\r\n      }\r\n\r\n    case SET_PROFILE:\r\n      return {\r\n        ...state,\r\n        info: action.info\r\n      }\r\n\r\n    case SET_CURRENT_ID:\r\n      return {\r\n        ...state,\r\n        currentID: action.id\r\n      }\r\n\r\n    case RESET_PAGE:\r\n      return {\r\n        ...initialState\r\n      }\r\n\r\n    case SET_SAVING_PROFILE:\r\n      return {\r\n        ...state,\r\n        saving: action.saving\r\n      }\r\n\r\n    case SET_NEW_AVATAR:\r\n      return {\r\n        ...state,\r\n        info: {\r\n          ...state.info,\r\n          photos: action.photos\r\n        }\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// actions\r\nexport const addPostAC = (text) => ({type: ADD_POST, text})\r\nexport const resetPage = () => ({type: RESET_PAGE})\r\nexport const setProfile = (info) => ({type: SET_PROFILE, info})\r\nexport const setCurrentId = (id) => ({type: SET_CURRENT_ID, id})\r\nexport const setSavingProfile = (saving) => ({type: SET_SAVING_PROFILE, saving})\r\nexport const setNewPhotos = (photos) => ({type: SET_NEW_AVATAR, photos})\r\n\r\n\r\n// thunks\r\nexport const addPost = (formData, formName) => (dispatch) => {\r\n  dispatch(reset(formName))\r\n  dispatch(addPostAC(formData.text))\r\n}\r\n\r\nexport const setProfileAPI = (id) => async (dispatch) => {\r\n  dispatch(setCurrentId(id))\r\n\r\n  const response = await API_profile.setProfile(id)\r\n\r\n  if (!response)\r\n    return null\r\n\r\n  dispatch(setProfile(response.info))\r\n}\r\n\r\nexport const saveProfileAPI = (data, callback) => async (dispatch) => {\r\n\r\n  dispatch(setSavingProfile(true))\r\n\r\n  const response = await API_profile.saveProfile(data)\r\n\r\n  if (!response)\r\n    return null\r\n\r\n  dispatch(setProfile(response.info))\r\n  callback(response.info.userInfo)\r\n\r\n  setTimeout(() => dispatch(setSavingProfile(false)), 100)\r\n}\r\n\r\nexport const cancelProfileAPI = () => () => {\r\n  API_profile.cancelSetProfile()\r\n  API_profile.cancelSaveProfile()\r\n}\r\n\r\n\r\nexport default profileReducer\r\n","import React from 'react'\r\nimport { reset } from 'redux-form'\r\n\r\nconst\r\n  ADD_MESSAGE = 'dialogs:ADD-MESSAGE'\r\n\r\n\r\n// state.dialogs.\r\nconst initialState = {\r\n  messages: [\r\n    {id: 0, text: 'message #0'},\r\n    {id: 1, text: 'message #1'},\r\n    {id: 2, text: 'message #2'},\r\n  ],\r\n\r\n  contacts: [\r\n    {id: 0, name: 'Dimych', active: true},\r\n    {id: 1, name: 'Elijah'},\r\n    {id: 2, name: 'Klaus'},\r\n    {id: 3, name: 'Sam'},\r\n    {id: 4, name: 'Eby'},\r\n    {id: 5, name: 'Erny'}\r\n  ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n\r\n    case ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages].concat({\r\n          id: state.messages.length,\r\n          text: action.text\r\n            .split('\\n')\r\n            .map((text, i) => <p key={i}>{text}</p>)\r\n        })\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst addMessageAC = (text) => ({type: ADD_MESSAGE, text })\r\n\r\nexport const addMessage = (formData, formName) => (dispatch) => {\r\n  dispatch(reset(formName))\r\n  dispatch(addMessageAC(formData.text))\r\n}\r\n\r\nexport default dialogsReducer","import {API_users} from 'api/api'\r\nimport {setFriendsList} from 'redux/friends-reducer'\r\nimport {setFollowList} from 'redux/follow-reducer'\r\n\r\n/**\r\n @param {{userId:number}} data\r\n */\r\n\r\nconst\r\n  RESET_PAGE = 'users:RESET-PAGE',\r\n  SET_USERS = 'users:SET-USERS',\r\n  UPDATE_USERS = 'users:UPDATE-USERS',\r\n  TOGGLE_IS_LOADING = 'users:SET-IS-LOADING',\r\n  TOGGLE_FOLLOW = 'users:TOGGLE-FOLLOW-USER',\r\n  SET_PAGE_TO_NEXT = 'users:SET-PAGE-TO-NEXT'\r\n\r\n// state.users.\r\nconst initialState = {\r\n  users: null,       // null -> page is loading, false -> no users, [...] -> users list\r\n\r\n  page: 0,           // last uploaded users page\r\n  limit: 4,          // users per 1 upload\r\n  totalUsers: 0,     // total users on server\r\n  isLoading: false   // идет догрузка пользователей\r\n}\r\n\r\nfunction userReducer(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case TOGGLE_FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user =>\r\n          user.id === action.userId\r\n            ? {...user, followed: !user.followed}\r\n            : user\r\n        )\r\n      }\r\n\r\n    case SET_PAGE_TO_NEXT:\r\n      return {\r\n        ...state,\r\n        page: state.page + 1\r\n      }\r\n\r\n    case RESET_PAGE:\r\n      return {\r\n        ...initialState\r\n      }\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n        totalUsers: action.totalUsers\r\n      }\r\n\r\n    case UPDATE_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...state.users].concat(action.users)\r\n      }\r\n\r\n    case TOGGLE_IS_LOADING:\r\n      return {\r\n        ...state,\r\n        isLoading: !state.isLoading\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// actions\r\nexport const setPageToNext = () => ({type: SET_PAGE_TO_NEXT})\r\nexport const resetPage = () => ({type: RESET_PAGE})\r\nexport const setUsers = (users, totalUsers) => ({\r\n  type: SET_USERS,\r\n  totalUsers,\r\n  users: Object.values(users)\r\n})\r\nexport const updateUsers = (users) => ({type: UPDATE_USERS, users: Object.values(users)})\r\nexport const toggleIsLoading = () => ({type: TOGGLE_IS_LOADING})\r\n\r\n\r\n// thunks\r\nexport const getUsersAPI = (page, limit) => async (dispatch) => {\r\n  const response = await API_users.getUsers(page, limit)\r\n\r\n  if (!response)\r\n    return null\r\n\r\n  dispatch(setUsers(response.users, response.totalUsers))\r\n  dispatch(setFriendsList(response.friendsList, response.totalFriends))\r\n  dispatch(setFollowList(response.followList, response.totalFollow))\r\n}\r\n\r\nexport const updateUsersAPI = (page, limit) => async (dispatch) => {\r\n  dispatch(toggleIsLoading())\r\n\r\n  const response = await API_users.getUsers(page, limit)\r\n\r\n  if (!response)\r\n    return null\r\n\r\n  dispatch(updateUsers(response.users))\r\n  dispatch(toggleIsLoading())\r\n}\r\n\r\nexport const cancelUsersAPI = () => () => {\r\n  API_users.cancelGetUsers()\r\n}\r\n\r\nexport default userReducer","import axios from 'axios'\r\n\r\n// core\r\nconst xml = axios.create({\r\n  baseURL: 'https://fishup.fun/api/',\r\n  withCredentials: 'include',\r\n  responseType: 'json'\r\n})\r\n\r\nconst cancelled = (th) => {\r\n  return !axios.isCancel(th)\r\n}\r\n\r\nconst createToken = (callback) => {\r\n  return new axios.CancelToken(f => callback(f))\r\n}\r\n\r\nconst request = (url, method, data, cancelToken, headers = null) => {\r\n  return xml(url, {method, data, cancelToken, headers})\r\n    .then(response => response.data)\r\n    .catch(th => cancelled(th))\r\n}\r\n//\r\n\r\n\r\n// instances\r\nexport const API_auth = {\r\n  auth() {\r\n    return request('auth.php', 'GET')\r\n  },\r\n\r\n  login(login, pass, stay) {\r\n    const url = `auth.php?login=${login}&pass=${pass}&stay=${stay}`\r\n    return request(url, 'GET')\r\n  },\r\n\r\n  logout() {\r\n    return request('auth.php', 'DELETE')\r\n  }\r\n}\r\n\r\nexport const API_profile = {\r\n  setProfile(id) {\r\n    const url = `profile.php?id=${id}`\r\n    const cancelToken = createToken(f => this.cancelSetProfile = f)\r\n\r\n    return request(url, 'GET', null, cancelToken)\r\n  },\r\n  cancelSetProfile(){},\r\n\r\n  saveProfile(data) {\r\n    const url = 'profile.php'\r\n    const cancelToken = createToken(f => this.cancelSaveProfile = f)\r\n\r\n    return request(url, 'PATCH', data, cancelToken)\r\n  },\r\n  cancelSaveProfile(){}\r\n}\r\n\r\n\r\nexport const API_users = {\r\n  getUsers(page, limit) {\r\n    const url = `users.php?page=${page}&limit=${limit}`\r\n    const cancelToken = createToken(f => this.cancelGetUsers = f)\r\n\r\n    return request(url, 'GET', null, cancelToken)\r\n  },\r\n  cancelGetUsers(){}\r\n}\r\n\r\n\r\nexport const API_friends = {\r\n  setFriendTo(makeFriend, data) {\r\n    const method = makeFriend ? 'PATCH' : 'DELETE'\r\n    return request('friends.php', method, data, null)\r\n  }\r\n}\r\n\r\n\r\nexport const API_follow = {\r\n  setFollowTo(makeFollow, data) {\r\n    const method = makeFollow ? 'PATCH' : 'DELETE'\r\n    return request('follow.php', method, data, null)\r\n  }\r\n}\r\n\r\nexport const API_files = {\r\n  uploadFile(file, type) {\r\n    // var\r\n    const url = 'file.php'\r\n\r\n    const data = new FormData()\r\n    data.append('file', file)\r\n    data.append('type', type)\r\n\r\n    const cancelToken = createToken(f => this.cancelUploadFile = f)\r\n\r\n    const headers = {'Content-Type': 'multipart/form-data'}\r\n    //\r\n\r\n    // request\r\n    return request(url, 'POST', data, cancelToken, headers)\r\n  },\r\n  cancelUploadFile(){},\r\n\r\n  deleteFile(file_ID, type) {\r\n\r\n  }\r\n}\r\n//","import React from 'react'\r\nimport error_404 from 'assets/images/error_404.png'\r\nimport css from 'App.module.css'\r\n\r\nconst Error404 = ({withBox = false}) => {\r\n\r\n  const img = <img src={error_404} style={{maxHeight: '300px'}} alt='' />\r\n\r\n  if (withBox)\r\n    return <div className={`${css.block} ${css.before_content} ${css.cc}`}>{img}</div>\r\n\r\n  return img\r\n}\r\n\r\nexport default Error404","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loading_wrapper__1spbP\",\"dot\":\"Loading_dot__2koHJ\",\"effect-3\":\"Loading_effect-3__2QGSa\",\"white\":\"Loading_white__2UNbL\",\"effect-4\":\"Loading_effect-4__30aCn\",\"effect-1\":\"Loading_effect-1__1THHJ\",\"effect-2\":\"Loading_effect-2__3bTvh\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar_edit\":\"Avatar_avatar_edit__1cTwe\",\"avatar_fixed\":\"Avatar_avatar_fixed__1xIoH\",\"avatar_editable\":\"Avatar_avatar_editable__3hAar\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_menu\":\"UserMenu_user_menu__1nlBp\",\"logout\":\"UserMenu_logout__3jt_B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2khbE\",\"wrapper\":\"Header_wrapper__1jed6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Login_settings__BcrOD\",\"login_button\":\"Login_login_button__GWgT7\",\"accept_error\":\"Login_accept_error__3Ft71\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"NavBar_bar__2k9lF\",\"offset\":\"NavBar_offset__uOgXA\",\"container\":\"NavBar_container__34xTx\"};","module.exports = __webpack_public_path__ + \"static/media/error_404.61939259.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UsersSearch_container__2pAuk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__2DxG2\"};","module.exports = __webpack_public_path__ + \"static/media/advBanner_0.73869519.png\";","module.exports = __webpack_public_path__ + \"static/media/advBanner_1.6720313d.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hello\":\"Hello_hello__3G5Cx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cover\":\"GlobalLoading_cover__2R97-\",\"cover_hide\":\"GlobalLoading_cover_hide__2o1LP\"};","export const getAuth = (state) => state.auth","import React, {useContext} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport * as AU_SL from 'selectors/auth-selectors'\r\nimport {setLoginError, loginAPI, logoutAPI} from 'redux/auth-reducer'\r\n\r\nconst AuthContext = React.createContext(null)\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nconst CreateProvider = ({children, ...props}) => {\r\n  const auth = {\r\n    auth: props.auth,\r\n    isAuth: props.auth.isAuth,\r\n    fetching: props.auth.fetching,\r\n\r\n    login: props.loginAPI,\r\n    logout: props.logoutAPI,\r\n    setLoginError: props.setLoginError\r\n  }\r\n\r\n  return <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: AU_SL.getAuth(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  setLoginError,\r\n  loginAPI,\r\n  logoutAPI\r\n}\r\n\r\nexport const AuthProvider = connect(mapStateToProps, mapDispatchToProps)(CreateProvider)\r\n","import React from 'react'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Loading.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={`${css.block} ${css.before_content} ${css.cc} ${css.hide_a_sec}`}>\r\n      <LoadingIcon/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const LoadingIcon = ({isWhite}) => {\r\n  return (\r\n    <div role='img' className={`${css.wrapper} ${isWhite ? css.white : null}`}>\r\n      <div className={css.dot}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const TransparentLoading = () => {\r\n  return (\r\n    <div\r\n      style={{height: 'calc(100% - var(--mm))'}}\r\n      className={`${css.cc} ${css.hide_a_sec}`}\r\n    >\r\n      <LoadingIcon/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"App_block__x_vNq\",\"block_label\":\"App_block_label__1JLtr\",\"before_content\":\"App_before_content__2S8sk\",\"cc\":\"App_cc__1r5cl\",\"cc_inline\":\"App_cc_inline__1NeCl\",\"cc_column\":\"App_cc_column__APSSf\",\"ff_header\":\"App_ff_header__294qd\",\"hide_a_sec\":\"App_hide_a_sec__xOaUs\",\"fadein\":\"App_fadein__2Aa_9\",\"active_link\":\"App_active_link__33Jsc\",\"inline_a\":\"App_inline_a__3eld-\",\"colored_a\":\"App_colored_a__OHu3m\",\"default_a\":\"App_default_a__Xmpsk\",\"num_label\":\"App_num_label__2in1u\",\"button\":\"App_button__SRgcn\",\"a_z\":\"App_a_z__3qy3a\",\"a_s\":\"App_a_s__35yVq\",\"a_m\":\"App_a_m__2-3hL\",\"a_l\":\"App_a_l__2XPXe\",\"avatar\":\"App_avatar__3TM66\",\"shadow_inset\":\"App_shadow_inset__17NSL\",\"input_text\":\"App_input_text__1l-nh\",\"field_error\":\"App_field_error__202nj\",\"field_error_box\":\"App_field_error_box__qThbx\",\"input_checkbox\":\"App_input_checkbox__wc8e7\",\"wrapper\":\"App_wrapper__1ip3W\",\"content\":\"App_content__34Air\",\"left_bar\":\"App_left_bar__3NLP0\",\"left_offset\":\"App_left_offset__33QRd\"};","import {API_friends} from 'api/api'\r\n\r\nconst SET_FRIENDS_BAR = 'friends:SET-FRIENDS-BAR',\r\n  SET_FRIENDS_LIST = 'friends:SET-FRIENDS-LIST',\r\n  SET_FRIENDS = 'friends:SET_FRIENDS',\r\n  TOGGLE_FRIEND_FETCHING = 'friends:TOGGLE-FRIEND-FETCHING'\r\n\r\n\r\n// state.friends.\r\nconst initialState = {\r\n  friendsBar: [],\r\n  friendsList: [],\r\n\r\n  friendIsFetching: [],\r\n  totalFriends: null\r\n}\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_FRIENDS_BAR:\r\n      return {\r\n        ...state,\r\n        friendsBar: action.friendsBar,\r\n        totalFriends: action.totalFriends\r\n      }\r\n\r\n    case SET_FRIENDS_LIST:\r\n      return {\r\n        ...state,\r\n        friendsList: action.friendsList,\r\n        totalFriends: action.totalFriends\r\n      }\r\n\r\n    case SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        ...action.friends\r\n      }\r\n\r\n    case TOGGLE_FRIEND_FETCHING:\r\n      const uid = action.id\r\n\r\n      return {\r\n        ...state,\r\n        friendIsFetching: state.friendIsFetching.includes(uid)\r\n          ? state.friendIsFetching.filter(id => id !== uid)\r\n          : [...state.friendIsFetching, uid]\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n// actions\r\nexport const setFriendsBar = (friendsBar = [], totalFriends = 0) => ({\r\n  type: SET_FRIENDS_BAR,\r\n  totalFriends,\r\n  friendsBar\r\n})\r\nexport const setFriendsList = (friendsList = [], totalFriends = 0) => ({\r\n  type: SET_FRIENDS_LIST,\r\n  totalFriends,\r\n  friendsList\r\n})\r\nexport const setFriends = (friends) => ({type: SET_FRIENDS, friends})\r\nexport const toggleFriendFetching = (id) => ({type: TOGGLE_FRIEND_FETCHING, id})\r\n\r\n// thunks\r\nexport const setFriendToAPI = (id, makeFriend) => async (dispatch) => {\r\n\r\n  const body = JSON.stringify({friendId: id})\r\n\r\n  dispatch(toggleFriendFetching(id))\r\n\r\n  const data = await API_friends.setFriendTo(makeFriend, body)\r\n  dispatch(toggleFriendFetching(id))\r\n  dispatch(setFriends(data))\r\n}\r\n\r\n\r\nexport default friendsReducer","import {authAPI} from './auth-reducer'\r\n\r\nconst INIT_APP = 'app:INIT-APP'\r\n\r\n\r\n// state.app.\r\nconst initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  if (action.type === INIT_APP)\r\n    return {...state, initialized: true}\r\n\r\n  return state\r\n}\r\n\r\n\r\n// actions\r\nexport const initApp = () => ({type: INIT_APP})\r\n\r\n// thunks\r\nexport const initAppAPI = () => async (dispatch) => {\r\n\r\n  await dispatch(authAPI())\r\n\r\n  dispatch(initApp())\r\n}\r\n\r\nexport default appReducer","import {createStore, combineReducers, applyMiddleware, compose} from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport friendsReducer from './friends-reducer'\r\nimport followReducer from './follow-reducer'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\n\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nconst reducers = combineReducers({\r\n  friends: friendsReducer,\r\n  profile: profileReducer,\r\n  dialogs: dialogsReducer,\r\n  follow: followReducer,\r\n  users: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n  applyMiddleware(thunk)\r\n));\r\n\r\n//const store = createStore(reducers, applyMiddleware(thunk))\r\n\r\nexport default store","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport Avatar from 'components/Common/Avatar/Avatar'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './UserMenu.module.css'\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst UserMenu = () => {\r\n  const { auth, logout } = useAuth()\r\n\r\n  const id = auth.userInfo.userID\r\n  const avatar = auth.userInfo.avatar\r\n  const clickHandler = e => { e.preventDefault(); logout() }\r\n\r\n  return (\r\n    <div className={css.user_menu}>\r\n      <NavLink to='/profile'>{auth.userInfo.userName}</NavLink>\r\n      <Avatar id={id} avatar={avatar} size={'mini'} shadow={true}/>\r\n      <a href='/#' className={css.logout} onClick={clickHandler}>×</a>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserMenu","import React from 'react'\r\n\r\nimport UserMenu from './UserMenu/UserMenu'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Header.module.css'\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Header = () => {\r\n\r\n  const { isAuth, fetching } = useAuth()\r\n\r\n  return (\r\n    <header className={`${css.header}`}>\r\n      <div className={css.wrapper}>\r\n        <img src='https://jasonpallone.com/React-icon.png' alt=''/>\r\n        { isAuth && !fetching && <UserMenu/> }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\nimport {notNull} from 'utils/validators'\r\nimport {InputText, InputCheck} from 'components/Common/FormFields'\r\n\r\nimport g_css from '../../../App.module.css'\r\nimport l_css from './Login.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst validate = {\r\n  login: [notNull('ENTER LOGIN')],\r\n  pass: [notNull('ENTER PASSWORD')]\r\n}\r\n\r\nconst Login = (props) => {\r\n  if (props.error)\r\n    return (\r\n      <div className={`${css.cc} ${css.cc_column}`}>\r\n        <div>{props.error}</div>\r\n        <div\r\n          className={`${css.button} ${css.accept_error}`}\r\n          onClick={() => props.setLoginError(null)}\r\n        >\r\n          OK\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n\r\n      <Field\r\n        name='login'\r\n        type='text'\r\n        label='login'\r\n        component={InputText}\r\n        validate={validate.login}\r\n      />\r\n\r\n      <Field\r\n        name='pass'\r\n        type='password'\r\n        label='password'\r\n        component={InputText}\r\n        validate={validate.pass}\r\n      />\r\n\r\n      <div className={css.settings}>\r\n        <Field\r\n          id='stay'\r\n          name='stay'\r\n          type='checkbox'\r\n          label='stay in'\r\n          component={InputCheck}\r\n        />\r\n\r\n        <button className={`${css.button} ${css.login_button}`}>LOGIN</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({form: 'login'})(Login)","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport Login from 'components/Common/LoginBlock/Login'\r\nimport PreloadContent from 'components/Common/PreloadContent/PreloadContent'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './NavBar.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\nconst act = {'activeClassName': css.active_link}\r\n\r\nconst NavBar = () => {\r\n\r\n  const { isAuth, fetching, login, setLoginError } = useAuth()\r\n  const onSubmit = formData => {\r\n    const {login: lg, pass, stay = 1} = formData\r\n    login(lg, pass, stay ? 1 : 0)\r\n  }\r\n\r\n  return (\r\n    <nav className={`${css.bar} ${css.block} ${css.default_a} ${css.cc} ${css.cc_column}`}>\r\n      <PreloadContent\r\n        isLoading={isAuth === null || fetching}\r\n        noContent={isAuth === false}\r\n        noContentFiller={<Login onSubmit={onSubmit} setLoginError={setLoginError}/>}\r\n        clearContent={true}\r\n      >\r\n        <div className={css.container}>\r\n          <NavLink to='/profile' exact {...act}>Profile</NavLink>\r\n          <NavLink to='/dialogs' {...act}>Dialogs</NavLink>\r\n          <NavLink to='/news' {...act}>News</NavLink>\r\n          <NavLink to='/music' {...act}>Music</NavLink>\r\n\r\n          <NavLink to='/settings' className={css.offset} {...act}>Settings</NavLink>\r\n        </div>\r\n      </PreloadContent>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default NavBar","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './UsersSearch.module.css'\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst UsersSearch = () => {\r\n  return (\r\n    <div className={`${css.block} ${css.container}`}>\r\n      <NavLink to='/users' activeClassName={css.active_link}>Find user</NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersSearch","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport Avatar from 'components/Common/Avatar/Avatar'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Friend.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Friend = ({id, name, avatar}) => {\r\n  return (\r\n    <div className={css.friend}>\r\n      <Avatar id={id} avatar={avatar} size={'mini'}/>\r\n\r\n      <NavLink to={`/profile/${id}`}>\r\n        <b>{name}</b>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Friend","import React from 'react'\r\n\r\nimport advBanner_0 from 'assets/images/advBanner_0.png'\r\nimport advBanner_1 from 'assets/images/advBanner_1.png'\r\n\r\nconst banners = [advBanner_0, advBanner_1]\r\nconst styles = [\r\n  { display: 'block', height: '86px' },\r\n  { display: 'block', height: '174px' }\r\n]\r\n\r\nconst AdvBar = ({ id }) => {\r\n\r\n  return (\r\n    <a href='https://finiko.im/'>\r\n      <img src={banners[id]} style={styles[id]} alt=''/>\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default AdvBar","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport { useAuth } from 'Context/AuthContext'\r\n\r\nimport Friend from './Friend/Friend'\r\nimport AdvBar from 'components/Common/AdvBar/AdvBar'\r\n\r\nimport css from 'App.module.css'\r\n\r\nconst FriendsBar = (props) => {\r\n\r\n  const { isAuth } = useAuth()\r\n  const { totalFriends, totalFollowers = 0, totalFollow = 0 } = props\r\n\r\n  return (\r\n    <>\r\n      <aside className={`${css.block} ${css.left_bar}`}>\r\n        {\r\n          isAuth\r\n            ? <Links tFR={totalFriends} tFS={totalFollowers} tFL={totalFollow}/>\r\n            : <AdvBar id={0}/>\r\n        }\r\n      </aside>\r\n\r\n      <aside className={`${css.block} ${css.left_offset}`}>\r\n        {\r\n          props.totalFriends\r\n            ? <FriendList friends={props.friends}/>\r\n            : <AdvBar id={1}/>\r\n        }\r\n      </aside>\r\n    </>\r\n  )\r\n}\r\n\r\nconst FriendList = ({friends}) => {\r\n  return friends.map(friend => <Friend key={friend.id} {...friend}/>)\r\n}\r\n\r\nconst Links = ({tFR, tFS, tFL}) => {\r\n  return (\r\n    <>\r\n      <div className={css.num_label}>\r\n        <NavLink to='/friends' activeClassName={css.active_link}>My friends</NavLink>\r\n        <div><b>{+tFR}</b></div>\r\n      </div>\r\n\r\n      <div className={css.num_label}>\r\n        <NavLink to='/followers' activeClassName={css.active_link}>My followers</NavLink>\r\n        <div><b>{+tFS}</b></div>\r\n      </div>\r\n\r\n      <div className={css.num_label}>\r\n        <NavLink to='/follow' activeClassName={css.active_link}>I follow</NavLink>\r\n        <div><b>{+tFL}</b></div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default FriendsBar","import { connect } from 'react-redux'\r\n\r\nimport FriendsBar from './FriendsBar'\r\n\r\nconst mapStateToProps = (state) => ({\r\n  friends: state.friends.friendsBar,\r\n  totalFriends: state.friends.totalFriends,\r\n  totalFollow: state.follow.totalFollow\r\n})\r\n\r\nconst FriendsBarContainer = connect(mapStateToProps)(FriendsBar)\r\n\r\nexport default FriendsBarContainer","import React from 'react'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Hello.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Hello = () => {\r\n  return (\r\n    <div className={`${css.block} ${css.cc} ${css.hello}`}>\r\n      <h1>Greetings stranger!</h1>\r\n      <p>This is a social network react-rookie-app</p>\r\n      <p>Please show some mercy to the poor creature trying to do this well</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Hello","import React from 'react'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './GlobalLoading.module.css'\r\nimport{  LoadingIcon } from 'components/Common/Loading/Loading'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst GlobalLoading = ({ initialized }) => {\r\n  return (\r\n    <div className={`${css.cover} ${initialized ? css.cover_hide : null}`}>\r\n      <LoadingIcon/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GlobalLoading","import React, {useEffect} from 'react'\nimport {connect} from 'react-redux'\nimport {Route, Switch} from 'react-router-dom'\n\nimport withSuspense from 'HOC/withSuspense'\n\nimport Header from './components/Header/Header'\nimport NavBar from './components/NavBar/NavBar'\nimport Error404 from 'components/Common/Error404/Error404'\nimport UsersSearch from './components/UsersSearch/UsersSearch'\nimport FriendsBarContainer from './components/FriendsBar/FriendsBarContainer'\n\nimport Hello from './components/Hello/Hello'\n\nimport GlobalLoading from 'components/Common/GlobalLoading/GlobalLoading'\n\nimport {AuthProvider} from 'Context/AuthContext'\nimport {initAppAPI} from 'redux/app-reducer'\n\nimport css from 'App.module.css'\n\nconst ProfileContainer = React.lazy(() =>\n  import('./components/Profile/ProfileContainer'))\nconst Dialogs = React.lazy(() =>\n  import('./components/Dialogs/Dialogs'))\nconst UsersContainer = React.lazy(() =>\n  import('./components/Users/UsersContainer'))\n\nconst App = (props) => {\n\n  const {initialized, initAppAPI} = props\n\n  useEffect(() => {\n    setTimeout(() => initAppAPI(), 0)\n  }, [initAppAPI])\n\n  return (\n    <>\n      <GlobalLoading initialized={initialized}/>\n      <Content initialized={initialized}/>\n    </>\n  )\n}\n\nconst Content = ({initialized}) => {\n  if (!initialized)\n    return null\n\n  return (\n    <AuthProvider>\n      <div className={css.wrapper}>\n        <Header/>\n        <NavBar/>\n        <UsersSearch/>\n        <FriendsBarContainer/>\n        <div className={css.content}>\n          <Switch>\n            <Route path='/profile/:id?' render={withSuspense(ProfileContainer)}/>\n            <Route path='/dialogs' render={withSuspense(Dialogs)}/>\n            <Route path='/users' render={withSuspense(UsersContainer)}/>\n            <Route path='/news'/>\n            <Route path='/music'/>\n            <Route path='/settings'/>\n\n            <Route path='/' exact render={() => <Hello/>}/>\n            <Route path='*' render={() => <Error404 withBox={true}/>}/>\n          </Switch>\n        </div>\n      </div>\n    </AuthProvider>\n  )\n}\n\nconst mapStateToProps = (state) => ({initialized: state.app.initialized})\nconst mapDispatchToProps = {initAppAPI}\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { HashRouter } from 'react-router-dom'\n\nimport store from 'redux/redux-store'\nimport App from 'App'\n\nimport 'index.css'\n\nimport * as serviceWorker from 'serviceWorker'\n\nimport googleTrends from 'google-trends-api'\n\nrender(\n  <HashRouter>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </HashRouter>,\n\n  document.getElementById('root')\n)\n\ngoogleTrends.interestOverTime({keyword: 'Valentines Day'})\n  .then(function(results){\n    console.log(results);\n  })\n  .catch(function(err){\n    console.error(err);\n  });\n\n\nserviceWorker.unregister();","import {API_auth} from 'api/api'\r\nimport {stopSubmit} from 'redux-form'\r\nimport {setFriendsBar} from 'redux/friends-reducer'\r\n\r\nconst SET_AUTH = 'auth:SET-AUTH',\r\n  SET_FETCHING_AUTH = 'auth:SET-FETCHING-AUTH'\r\n\r\n\r\n// state.auth.\r\nconst initialState = {\r\n  fetching: false, // true - идет запрос login/logout\r\n\r\n  isAuth: null,  // null  - need ask auth from server\r\n                 // false - not authorized\r\n                 // true  - authorized\r\n  userInfo: {\r\n    userID: null,  // user's uniq ID\r\n    userName: null,// user's shown name\r\n    avatar: null   // uniqID -> user's photo / null -> no photo\r\n  }\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH:\r\n      return {\r\n        ...state,\r\n        isAuth: action.userInfo.userID || action.userInfo.userID === 0,\r\n        userInfo: {...(action.userInfo || initialState)}\r\n      }\r\n    case SET_FETCHING_AUTH:\r\n      return {\r\n        ...state,\r\n        fetching: action.fetching\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n// actions\r\nexport const setAuth = (userInfo) => ({type: SET_AUTH, userInfo})\r\nexport const setFetchingAuth = (fetching) => ({type: SET_FETCHING_AUTH, fetching})\r\n\r\n// thunks\r\nexport const setLoginError = (errorCode) => (dispatch) => {\r\n\r\n  let error = null\r\n\r\n  switch (errorCode) {\r\n    case 1: error = 'wrong login or password'; break\r\n    case 2: error = 'please, specify login and password'; break\r\n    default: break\r\n  }\r\n\r\n  dispatch(stopSubmit('login', {_error: error}))\r\n}\r\n\r\nexport const authAPI = () => async (dispatch) => {\r\n  const data = await API_auth.auth()\r\n\r\n  dispatch(setAuth(data.userInfo))\r\n  dispatch(setFriendsBar(data.friendsBar, data.totalFriends))\r\n}\r\n\r\nexport const loginAPI = (login, pass, stay) => async (dispatch) => {\r\n\r\n  dispatch(setFetchingAuth(true))\r\n\r\n  const data = await API_auth.login(login, pass, stay)\r\n\r\n  dispatch(setFetchingAuth(false))\r\n\r\n  if (data.error) {\r\n    setLoginError(data.error)(dispatch)\r\n    return null\r\n  }\r\n\r\n  dispatch(setAuth(data.userInfo))\r\n  dispatch(setFriendsBar(data.friendsBar, data.totalFriends))\r\n}\r\n\r\nexport const logoutAPI = () => async (dispatch) => {\r\n  dispatch(setFetchingAuth(true))\r\n\r\n  await API_auth.logout()\r\n\r\n  dispatch(setFetchingAuth(false))\r\n  dispatch(setAuth(false))\r\n  dispatch(setFriendsBar())\r\n}\r\n\r\nexport default authReducer","import React from 'react'\r\nimport css from 'App.module.css'\r\n\r\nexport const TextArea = ({input, meta, ...props}) => {\r\n\r\n  const hasError = meta.touched && meta.error\r\n\r\n  return (\r\n    <>\r\n      <textarea\r\n        className={hasError ? css.field_error : null}\r\n        {...input}\r\n        {...props}\r\n      />\r\n      { hasError && <div className={css.field_error_box}>{meta.error}</div> }\r\n    </>\r\n  )\r\n}\r\n\r\nexport const InputText = ({label, extraClass = null, input, meta, ...props}) => {\r\n\r\n  const hasError = meta.touched && meta.error\r\n\r\n  return (\r\n    <div className={css.input_text + (extraClass ? ' ' + extraClass : '')}>\r\n      <input\r\n        className={hasError ? css.field_error : null}\r\n        {...input}\r\n        {...props}\r\n      />\r\n      { hasError && <div className={css.field_error_box}>{meta.error}</div> }\r\n      <label>{label}</label>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const InputCheck = ({label, input, ...props}) => {\r\n  return (\r\n    <div className={css.input_checkbox}>\r\n      <input\r\n        {...input}\r\n        {...props}\r\n      />\r\n      <label htmlFor={props.id}>{label}</label>\r\n    </div>\r\n  )\r\n}","import React, {useRef, useState} from 'react'\r\n\r\nimport {LoadingIcon} from 'components/Common/Loading/Loading'\r\n\r\nimport css from 'App.module.css'\r\n\r\n\r\nconst Upload = (props) => {\r\n\r\n  // var\r\n  const {\r\n    className,\r\n    loadingClassName = null,\r\n\r\n    removeText = null,\r\n    affirmRemoveText = null,\r\n\r\n    uploadText = null,\r\n\r\n    submitFile\r\n  }\r\n    = props\r\n\r\n  const ref_input = useRef(null)\r\n\r\n  let content = null\r\n  let setClassName = className\r\n  //\r\n\r\n\r\n  // state\r\n  const [removeMode, setRemoveMode] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState(false)\r\n  //\r\n\r\n\r\n  // functions\r\n  const upload = e => {\r\n    if (e.target.files.length) {\r\n      setIsLoading(true)\r\n      submitFile(e.target.files[0], e => uploaded(e), 'avatar')\r\n    }\r\n  }\r\n\r\n  const uploaded = error => {\r\n    setIsLoading(false)\r\n    setError(error)\r\n  }\r\n  //\r\n\r\n\r\n  // actions\r\n  if (uploadText)\r\n    content =\r\n      <>\r\n        <div onClick={() => ref_input.current.click()}>{uploadText}</div>\r\n        <input onChange={upload} ref={ref_input} type='file'/>\r\n        {removeText &&\r\n        <div onClick={() => setRemoveMode(true)}>{removeText}</div>\r\n        }\r\n      </>\r\n\r\n  if (removeMode)\r\n    content =\r\n      <b>\r\n        {affirmRemoveText}\r\n        <div className={css.button}>DELETE</div>\r\n        <div className={css.button} onClick={() => setRemoveMode(false)}>CANCEL</div>\r\n      </b>\r\n\r\n  if (isLoading) {\r\n    setClassName = className + ' ' + loadingClassName\r\n    content = <LoadingIcon isWhite={true}/>\r\n  }\r\n\r\n  if (error) {\r\n    setClassName = className + ' ' + loadingClassName\r\n    content =\r\n      <b>\r\n        {error}\r\n        <div style={{\r\n          backgroundColor: 'var(--dark-blue)',\r\n          marginTop: 'var(--mm)',\r\n          marginBottom: 0\r\n        }} className={css.button} onClick={() => setError(false)}>OK</div>\r\n      </b>\r\n  }\r\n  //\r\n\r\n\r\n  // render\r\n  return <div className={setClassName}>{content}</div>\r\n}\r\n\r\nexport default Upload","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport noImageSRC from 'assets/images/no_avatar.png'\r\nimport Upload from 'components/Common/Upload/Upload'\r\n\r\nimport cc from 'classnames'\r\n\r\nimport g_css from 'App.module.css'\r\nimport l_css from './Avatar.module.css'\r\n\r\nconst css = {...g_css, ...l_css}\r\n\r\nconst Avatar = ({id, avatar, size, shadow = false, editable = false, submitFile = false}) => {\r\n\r\n  // var\r\n  let src = noImageSRC\r\n  if (avatar)\r\n    src = `https://fishup.fun/api/users/${id}/${avatar}.png`\r\n\r\n  const className = cc(\r\n    css.avatar,\r\n    sizeToClass(size), {\r\n      [css.shadow_inset]: shadow,\r\n      [css.avatar_editable]: editable\r\n    })\r\n  //\r\n\r\n\r\n  // content\r\n  let content = <NavLink to={`/profile/${id}`}><img src={src} alt=''/></NavLink>\r\n\r\n  if (size === 'large')\r\n    content = <img src={src} alt=''/>\r\n\r\n  if (editable)\r\n    content =\r\n      <>\r\n        <Upload\r\n          submitFile={submitFile}\r\n          uploadText='UPLOAD AVATAR'\r\n          removeText='DELETE AVATAR'\r\n          className={`${css.avatar_edit} ${css.cc}`}\r\n          loadingClassName={css.avatar_fixed}\r\n        />\r\n        <img src={src} alt=''/>\r\n      </>\r\n  //\r\n\r\n\r\n  // render\r\n  return (\r\n    <div className={className} role='img'>\r\n      {content}\r\n    </div>\r\n  )\r\n  //\r\n}\r\n\r\nconst sizeToClass = (size) => {\r\n  switch (size) {\r\n    case 'mini'  :\r\n      return css.a_z\r\n    case 'small' :\r\n      return css.a_s\r\n    case 'medium':\r\n      return css.a_m\r\n    case 'large' :\r\n      return css.a_l\r\n    default      :\r\n      return null\r\n  }\r\n}\r\n\r\nexport default Avatar","import { API_follow } from 'api/api'\r\n\r\nconst SET_FOLLOW = 'follow:SET-FOLLOW',\r\n  SET_FOLLOW_LIST = 'follow:SET-FOLLOW-LIST',\r\n  TOGGLE_FOLLOW_FETCHING = 'follow:TOGGLE-FRIEND-FETCHING'\r\n\r\n\r\n// state.follow.\r\nconst initialState = {\r\n  followList: [],\r\n\r\n  followIsFetching: [],\r\n  totalFollow: null\r\n}\r\n\r\nconst followReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_FOLLOW:\r\n      return {\r\n        ...state,\r\n        ...action.follow\r\n      }\r\n    case SET_FOLLOW_LIST:\r\n      return {\r\n        ...state,\r\n        followList: action.followList,\r\n        totalFollow: action.totalFollow\r\n      }\r\n    case TOGGLE_FOLLOW_FETCHING:\r\n      const uid = action.id\r\n\r\n      return {\r\n        ...state,\r\n        followIsFetching: state.followIsFetching.includes(uid)\r\n          ? state.followIsFetching.filter(id => id !== uid)\r\n          : [...state.followIsFetching, uid]\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n// actions\r\nexport const setFollow = (follow) => ({type: SET_FOLLOW, follow})\r\nexport const setFollowList = (followList = [], totalFollow = 0) => ({\r\n  type: SET_FOLLOW_LIST,\r\n  totalFollow,\r\n  followList\r\n})\r\nexport const toggleFollowFetching = (id) => ({type: TOGGLE_FOLLOW_FETCHING, id})\r\n\r\n\r\n// thunks\r\nexport const setFollowToAPI = (id, makeFollow) => async (dispatch) => {\r\n\r\n  const body = JSON.stringify({followId: id})\r\n\r\n  dispatch(toggleFollowFetching(id))\r\n\r\n  const data = await API_follow.setFollowTo(makeFollow, body)\r\n  dispatch(toggleFollowFetching(id))\r\n  dispatch(setFollow(data))\r\n}\r\n\r\n\r\nexport default followReducer","import React from 'react'\r\nimport {TransparentLoading} from 'components/Common/Loading/Loading'\r\n\r\nconst withSuspense = (Component) => {\r\n  return (props) => (\r\n    <React.Suspense fallback={<TransparentLoading/>}>\r\n      <Component {...props}/>\r\n    </React.Suspense>\r\n  )\r\n}\r\n\r\nexport default withSuspense","export const notNull = e => v => {\r\n  return v ? undefined : e\r\n}\r\n\r\nexport const maxLength = length => v => {\r\n  return v && v.length > length ? `MAX LENGTH IS ${length} SYMBOLS` : undefined\r\n}"],"sourceRoot":""}